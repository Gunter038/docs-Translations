"use strict";(self.webpackChunkcelestia_docs=self.webpackChunkcelestia_docs||[]).push([[8275],{3905:function(e,a,n){n.d(a,{Zo:function(){return c},kt:function(){return m}});var t=n(7294);function r(e,a,n){return a in e?Object.defineProperty(e,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[a]=n,e}function l(e,a){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);a&&(t=t.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),n.push.apply(n,t)}return n}function i(e){for(var a=1;a<arguments.length;a++){var n=null!=arguments[a]?arguments[a]:{};a%2?l(Object(n),!0).forEach((function(a){r(e,a,n[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))}))}return e}function o(e,a){if(null==e)return{};var n,t,r=function(e,a){if(null==e)return{};var n,t,r={},l=Object.keys(e);for(t=0;t<l.length;t++)n=l[t],a.indexOf(n)>=0||(r[n]=e[n]);return r}(e,a);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(t=0;t<l.length;t++)n=l[t],a.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var s=t.createContext({}),d=function(e){var a=t.useContext(s),n=a;return e&&(n="function"==typeof e?e(a):i(i({},a),e)),n},c=function(e){var a=d(e.components);return t.createElement(s.Provider,{value:a},e.children)},u={inlineCode:"code",wrapper:function(e){var a=e.children;return t.createElement(t.Fragment,{},a)}},p=t.forwardRef((function(e,a){var n=e.components,r=e.mdxType,l=e.originalType,s=e.parentName,c=o(e,["components","mdxType","originalType","parentName"]),p=d(n),m=r,g=p["".concat(s,".").concat(m)]||p[m]||u[m]||l;return n?t.createElement(g,i(i({ref:a},c),{},{components:n})):t.createElement(g,i({ref:a},c))}));function m(e,a){var n=arguments,r=a&&a.mdxType;if("string"==typeof e||r){var l=n.length,i=new Array(l);i[0]=p;var o={};for(var s in a)hasOwnProperty.call(a,s)&&(o[s]=a[s]);o.originalType=e,o.mdxType="string"==typeof e?e:r,i[1]=o;for(var d=2;d<l;d++)i[d]=n[d];return t.createElement.apply(null,i)}return t.createElement.apply(null,n)}p.displayName="MDXCreateElement"},3123:function(e,a,n){n.r(a),n.d(a,{assets:function(){return c},contentTitle:function(){return s},default:function(){return m},frontMatter:function(){return o},metadata:function(){return d},toc:function(){return u}});var t=n(7462),r=n(3366),l=(n(7294),n(3905)),i=["components"],o={},s=void 0,d={unversionedId:"nodes/validator-node",id:"nodes/validator-node",title:"validator-node",description:"- - -",source:"@site/i18n/es/docusaurus-plugin-content-docs/current/nodes/validator-node.md",sourceDirName:"nodes",slug:"/nodes/validator-node",permalink:"/es/nodes/validator-node",draft:!1,editUrl:"https://github.com/celestiaorg/docs/tree/main/docs/nodes/validator-node.md",tags:[],version:"current",frontMatter:{},sidebar:"nodes",previous:{title:"Consensus",permalink:"/es/category/consensus"},next:{title:"consensus-full-node",permalink:"/es/nodes/consensus-full-node"}},c={},u=[{value:"Requisitos de hardware",id:"requisitos-de-hardware",level:2},{value:"Configurando tu nodo validador",id:"configurando-tu-nodo-validador",level:2},{value:"Actualizando las dependencias",id:"actualizando-las-dependencias",level:3},{value:"Desplegando celestia-app",id:"desplegando-celestia-app",level:2},{value:"Instalar celestia-app",id:"instalar-celestia-app",level:3},{value:"Configura las redes P2P",id:"configura-las-redes-p2p",level:3},{value:"Configura pruning",id:"configura-pruning",level:3},{value:"Configurar el modo validador",id:"configurar-el-modo-validador",level:3},{value:"Restablecer la red",id:"restablecer-la-red",level:3},{value:"Opcional: sincronizaci\xf3n r\xe1pida con snapshot",id:"opcional-sincronizaci\xf3n-r\xe1pida-con-snapshot",level:3},{value:"Iniciar celestia-app con SystemD",id:"iniciar-celestia-app-con-systemd",level:3},{value:"Wallet",id:"wallet",level:3},{value:"Delegar stake a un validador",id:"delegar-stake-a-un-validador",level:3},{value:"Despliega el nodo celestia",id:"despliega-el-nodo-celestia",level:2},{value:"Instala celestia-node",id:"instala-celestia-node",level:3},{value:"Inicializar el nodo de bridge",id:"inicializar-el-nodo-de-bridge",level:3},{value:"Ejecutar el nodo bridge",id:"ejecutar-el-nodo-bridge",level:3},{value:"Opcional: iniciar el nodo bridge con SystemD",id:"opcional-iniciar-el-nodo-bridge-con-systemd",level:3},{value:"Ejecutar un nodo validador",id:"ejecutar-un-nodo-validador",level:2}],p={toc:u};function m(e){var a=e.components,n=(0,r.Z)(e,i);return(0,l.kt)("wrapper",(0,t.Z)({},p,n,{components:a,mdxType:"MDXLayout"}),(0,l.kt)("hr",null),(0,l.kt)("p",null,"sidebar_label : nodo validador"),(0,l.kt)("hr",null),(0,l.kt)("h1",{id:"configurar-un-nodo-validador-en-celestia"},"Configurar un nodo Validador en Celestia"),(0,l.kt)("p",null,"Los nodos validadores te permiten participar en el consenso de la red Celestia."),(0,l.kt)("h2",{id:"requisitos-de-hardware"},"Requisitos de hardware"),(0,l.kt)("p",null,"Se recomiendan los siguientes requisitos m\xednimos de hardware para ejecutar el nodo validador:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Memoria: 8 GB RAM"),(0,l.kt)("li",{parentName:"ul"},"CPU: 4 cores"),(0,l.kt)("li",{parentName:"ul"},"Disco: 250 GB de almacenamiento SSD"),(0,l.kt)("li",{parentName:"ul"},"Ancho de banda: 1 Gbps descarga/100 Mbps subida")),(0,l.kt)("h2",{id:"configurando-tu-nodo-validador"},"Configurando tu nodo validador"),(0,l.kt)("p",null,"El siguiente tutorial se ha realizado sobre una versi\xf3n de Ubuntu Linux 20.04 (LTS) x64."),(0,l.kt)("h3",{id:"actualizando-las-dependencias"},"Actualizando las dependencias"),(0,l.kt)("p",null,"Sigue las instrucciones para instalar las dependencias ",(0,l.kt)("a",{parentName:"p",href:"/es/developers/environment"},"aqu\xed"),"."),(0,l.kt)("h2",{id:"desplegando-celestia-app"},"Desplegando celestia-app"),(0,l.kt)("p",null,"Esta secci\xf3n describe la parte 1 de la configuraci\xf3n del nodo validador de Celestia: ejecutando un daemon de la aplicaci\xf3n Celestia con un nodo interno Core de Celestia."),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"Nota: Aseg\xfarate de tener al menos 100+ Gb de espacio libre para instalar y ejecutar de forma segura el nodo validador.")),(0,l.kt)("h3",{id:"instalar-celestia-app"},"Instalar celestia-app"),(0,l.kt)("p",null,"Sigue el tutorial sobre la instalaci\xf3n de Celestia App ",(0,l.kt)("a",{parentName:"p",href:"/es/developers/celestia-app"},"aqu\xed"),"."),(0,l.kt)("h3",{id:"configura-las-redes-p2p"},"Configura las redes P2P"),(0,l.kt)("p",null,"Para esta secci\xf3n de la gu\xeda, selecciona la red a la que quieres conectar:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"/es/nodes/mamaki-testnet#setup-p2p-network"},"Mamaki"))),(0,l.kt)("p",null,"Despu\xe9s de esto, puedes continuar con el resto del tutorial."),(0,l.kt)("h3",{id:"configura-pruning"},"Configura pruning"),(0,l.kt)("p",null,"Para un menor uso de espacio en disco, recomendamos configurar pruning utilizando las configuraciones que se muestran a continuaci\xf3n. Puedes cambiar esto a tus propias configuraciones de pruning si quieres:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-sh"},'PRUNING="custom"\nPRUNING_KEEP_RECENT="100"\nPRUNING_INTERVAL="10"\n\nsed -i -e "s/^pruning *=.*/pruning = \\"$PRUNING\\"/" $HOME/.celestia-app/config/app.toml\nsed -i -e "s/^pruning-keep-recent *=.*/pruning-keep-recent = \\\n\\"$PRUNING_KEEP_RECENT\\"/" $HOME/.celestia-app/config/app.toml\nsed -i -e "s/^pruning-interval *=.*/pruning-interval = \\\n\\"$PRUNING_INTERVAL\\"/" $HOME/.celestia-app/config/app.toml\n')),(0,l.kt)("h3",{id:"configurar-el-modo-validador"},"Configurar el modo validador"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-sh"},'sed -i.bak -e "s/^mode *=.*/mode = \\"validator\\"/" $HOME/.celestia-app/config/config.toml\n')),(0,l.kt)("h3",{id:"restablecer-la-red"},"Restablecer la red"),(0,l.kt)("p",null,"Esto eliminar\xe1 todas las carpetas de datos para que podamos comenzar desde el inicio:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-sh"},"celestia-appd tendermint unsafe-reset-all --home $HOME/.celestia-app\n")),(0,l.kt)("h3",{id:"opcional-sincronizaci\xf3n-r\xe1pida-con-snapshot"},"Opcional: sincronizaci\xf3n r\xe1pida con snapshot"),(0,l.kt)("p",null,"Sincronizar desde G\xe9nesis puede tomar mucho tiempo, dependiendo de tu hardware. Utilizando este m\xe9todo puedes sincronizar tu nodo Celestia muy r\xe1pidamente descargando una instant\xe1nea reciente de la blockchain. Si quieres sincronizar desde el G\xe9nesis, entonces puedes saltarte esta parte."),(0,l.kt)("p",null,"Si deseas usar snapshot, eligela red a la que deseas sincronizar de la lista de abajo:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"/es/nodes/mamaki-testnet#quick-sync-with-snapshot"},"Mamaki"))),(0,l.kt)("h3",{id:"iniciar-celestia-app-con-systemd"},"Iniciar celestia-app con SystemD"),(0,l.kt)("p",null,"Sigue el tutorial sobre c\xf3mo configurar Celestia-App como un proceso en segundo plano con SystemD ",(0,l.kt)("a",{parentName:"p",href:"/es/nodes/systemd#start-the-celestia-app-with-systemd"},"aqu\xed"),"."),(0,l.kt)("h3",{id:"wallet"},"Wallet"),(0,l.kt)("p",null,"Siga el tutorial para crear una wallet ",(0,l.kt)("a",{parentName:"p",href:"/es/developers/wallet"},"aqu\xed"),"."),(0,l.kt)("h3",{id:"delegar-stake-a-un-validador"},"Delegar stake a un validador"),(0,l.kt)("p",null,"Crear una variable de entorno para la direcci\xf3n:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-sh"},"VALIDATOR_WALLET=<validator-address>\n")),(0,l.kt)("p",null,"Si quieres delegar m\xe1s stake a cualquier validador, incluyendo el tuyo propio necesitar\xe1s la direcci\xf3n ",(0,l.kt)("inlineCode",{parentName:"p"},"celesvaloper")," del validador en cuesti\xf3n. Puedes comprobarlo usando el explorador de bloques mencionado anteriormente o puedes ejecutar el comando de abajo para obtener el ",(0,l.kt)("inlineCode",{parentName:"p"},"celesvaloper")," de tu wallet validador local en caso de que quieras delegar m\xe1s en \xe9l:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-sh"},"celestia-appd keys show $VALIDATOR_WALLET --bech val -a\n")),(0,l.kt)("p",null,"Despu\xe9s de introducir la contrase\xf1a de la wallet deber\xedas ver una salida similar:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-sh"},"Enter keyring passphrase:\ncelesvaloper1q3v5cugc8cdpud87u4zwy0a74uxkk6u43cv6hd\n")),(0,l.kt)("p",null,"A continuaci\xf3n, selecciona la red que desea utilizar para delegar a un validador:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"/es/nodes/mamaki-testnet#delegate-to-a-validator"},"Mamaki"))),(0,l.kt)("h2",{id:"despliega-el-nodo-celestia"},"Despliega el nodo celestia"),(0,l.kt)("p",null,"Esta secci\xf3n describe la parte 2 de la configuraci\xf3n del Nodo Validador de Celestia: ejecutar un daemon del Nodo Bridge Celestia."),(0,l.kt)("h3",{id:"instala-celestia-node"},"Instala celestia-node"),(0,l.kt)("p",null,"Puedes seguir el tutorial para instalar Celestia Node ",(0,l.kt)("a",{parentName:"p",href:"/es/developers/celestia-node"},"aqu\xed")),(0,l.kt)("h3",{id:"inicializar-el-nodo-de-bridge"},"Inicializar el nodo de bridge"),(0,l.kt)("p",null,"Ejecuta las siguientes instrucciones:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-sh"},"celestia bridge init --core.ip <ip-address> --core.grpc.port <port>\n")),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"NOTA: El ",(0,l.kt)("inlineCode",{parentName:"p"},"--core.grpc. ort")," es por defecto 9090, as\xed que si no lo especificas en la l\xednea de comandos, se establecer\xe1 por defecto en ese puerto. Puedes utilizar la bandera para especificar otro puerto si lo prefieres.")),(0,l.kt)("p",null,"Si necesitas una lista de puertos RPC para conectarte, puedes comprobar la lista ",(0,l.kt)("a",{parentName:"p",href:"/es/nodes/mamaki-testnet#rpc-endpoints"},"aqu\xed")),(0,l.kt)("h3",{id:"ejecutar-el-nodo-bridge"},"Ejecutar el nodo bridge"),(0,l.kt)("p",null,"Ejecuta las siguientes instrucciones:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-sh"},"celestia bridge start\n")),(0,l.kt)("h3",{id:"opcional-iniciar-el-nodo-bridge-con-systemd"},"Opcional: iniciar el nodo bridge con SystemD"),(0,l.kt)("p",null,"Sigue el tutorial sobre c\xf3mo configurar Celestia-App como un proceso en segundo plano con SystemD ",(0,l.kt)("a",{parentName:"p",href:"/es/nodes/systemd#celestia-bridge-node"},"aqu\xed"),"."),(0,l.kt)("p",null,"Has configurado con \xe9xito un nodo bridge que est\xe1 sincronizando con la red."),(0,l.kt)("h2",{id:"ejecutar-un-nodo-validador"},"Ejecutar un nodo validador"),(0,l.kt)("p",null,"Despu\xe9s de completar todos los pasos necesarios, \xa1ya est\xe1s listo para ejecutar un validador! Para crear tu validador on-chain, sigue las instrucciones que se indican a continuaci\xf3n. Ten en cuenta que estos pasos son necesarios SOLO si quieres participar en el consenso."),(0,l.kt)("p",null,"\xa1Elige un nombre de ",(0,l.kt)("inlineCode",{parentName:"p"},"moniker")," a tu elecci\xf3n! Este es el nombre del validador que se mostrar\xe1 en los paneles p\xfablicos y exploradores. ",(0,l.kt)("inlineCode",{parentName:"p"},"VALIDATOR_WALLET")," debe ser el mismo que definiste anteriormente. El par\xe1metro ",(0,l.kt)("inlineCode",{parentName:"p"},"--min-self-delegation=1000000")," define la cantidad de tokens que se delegan de tu wallet de validador."),(0,l.kt)("p",null,"Ahora, con\xe9ctate a la red de tu elecci\xf3n."),(0,l.kt)("p",null,"Tienes la siguiente opci\xf3n de conectar a la lista de redes mostrada a continuaci\xf3n:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"/es/nodes/mamaki-testnet#connect-validator"},"Mamaki"))),(0,l.kt)("p",null,"Completa las instrucciones en la red respectiva que quieres validar en para completar el proceso de configuraci\xf3n del validador."))}m.isMDXComponent=!0}}]);