"use strict";(self.webpackChunkcelestia_docs=self.webpackChunkcelestia_docs||[]).push([[7903],{3905:function(e,a,n){n.d(a,{Zo:function(){return d},kt:function(){return m}});var o=n(7294);function t(e,a,n){return a in e?Object.defineProperty(e,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[a]=n,e}function s(e,a){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);a&&(o=o.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),n.push.apply(n,o)}return n}function r(e){for(var a=1;a<arguments.length;a++){var n=null!=arguments[a]?arguments[a]:{};a%2?s(Object(n),!0).forEach((function(a){t(e,a,n[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))}))}return e}function i(e,a){if(null==e)return{};var n,o,t=function(e,a){if(null==e)return{};var n,o,t={},s=Object.keys(e);for(o=0;o<s.length;o++)n=s[o],a.indexOf(n)>=0||(t[n]=e[n]);return t}(e,a);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(o=0;o<s.length;o++)n=s[o],a.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(t[n]=e[n])}return t}var l=o.createContext({}),c=function(e){var a=o.useContext(l),n=a;return e&&(n="function"==typeof e?e(a):r(r({},a),e)),n},d=function(e){var a=c(e.components);return o.createElement(l.Provider,{value:a},e.children)},u={inlineCode:"code",wrapper:function(e){var a=e.children;return o.createElement(o.Fragment,{},a)}},p=o.forwardRef((function(e,a){var n=e.components,t=e.mdxType,s=e.originalType,l=e.parentName,d=i(e,["components","mdxType","originalType","parentName"]),p=c(n),m=t,b=p["".concat(l,".").concat(m)]||p[m]||u[m]||s;return n?o.createElement(b,r(r({ref:a},d),{},{components:n})):o.createElement(b,r({ref:a},d))}));function m(e,a){var n=arguments,t=a&&a.mdxType;if("string"==typeof e||t){var s=n.length,r=new Array(s);r[0]=p;var i={};for(var l in a)hasOwnProperty.call(a,l)&&(i[l]=a[l]);i.originalType=e,i.mdxType="string"==typeof e?e:t,r[1]=i;for(var c=2;c<s;c++)r[c]=n[c];return o.createElement.apply(null,r)}return o.createElement.apply(null,n)}p.displayName="MDXCreateElement"},3161:function(e,a,n){n.r(a),n.d(a,{assets:function(){return d},contentTitle:function(){return l},default:function(){return m},frontMatter:function(){return i},metadata:function(){return c},toc:function(){return u}});var o=n(7462),t=n(3366),s=(n(7294),n(3905)),r=["components"],i={},l=void 0,c={unversionedId:"concepts/how-celestia-works/transaction-lifecycle",id:"concepts/how-celestia-works/transaction-lifecycle",title:"transaction-lifecycle",description:"- - -",source:"@site/i18n/es/docusaurus-plugin-content-docs/current/concepts/how-celestia-works/transaction-lifecycle.md",sourceDirName:"concepts/how-celestia-works",slug:"/concepts/how-celestia-works/transaction-lifecycle",permalink:"/es/concepts/how-celestia-works/transaction-lifecycle",draft:!1,editUrl:"https://github.com/celestiaorg/docs/tree/main/docs/concepts/how-celestia-works/transaction-lifecycle.md",tags:[],version:"current",frontMatter:{},sidebar:"concepts",previous:{title:"data-availability-layer",permalink:"/es/concepts/how-celestia-works/data-availability-layer"},next:{title:"Specifications",permalink:"/es/category/specifications"}},d={},u=[{value:"Comprobando la Disponibilidad de Datos",id:"comprobando-la-disponibilidad-de-datos",level:2}],p={toc:u};function m(e){var a=e.components,i=(0,t.Z)(e,r);return(0,s.kt)("wrapper",(0,o.Z)({},p,i,{components:a,mdxType:"MDXLayout"}),(0,s.kt)("hr",null),(0,s.kt)("p",null,"sidebar_label : Capa de disponibilidad de datos de Celestia"),(0,s.kt)("hr",null),(0,s.kt)("h1",{id:"el-ciclo-de-vida-de-una-transacci\xf3n-en-la-app-de-celestia"},"El ciclo de vida de una transacci\xf3n en la App de Celestia"),(0,s.kt)("p",null,"Los usuarios solicitan a la aplicaci\xf3n de Celestia para que los datos est\xe9n disponibles enviando transacciones con ",(0,s.kt)("inlineCode",{parentName:"p"},"PayForData"),". Cada una de esas transacciones consiste en la identidad del remitente, los datos que se pondr\xe1n a disposici\xf3n tambi\xe9n referido como el mensaje, el tama\xf1o de los datos, el identificador del espacio de nombres y una firma. Cada productor de bloques transfiere m\xfaltiples transacciones de ",(0,s.kt)("inlineCode",{parentName:"p"},"PayForData")," en un bloque."),(0,s.kt)("p",null,"Sin embargo, antes de proponer el bloque, el productor lo pasa a la m\xe1quina de estado v\xeda ABCI++, donde cada transacci\xf3n de ",(0,s.kt)("inlineCode",{parentName:"p"},"PayForData")," est\xe1 dividida en un mensaje con espacio de nombres (indicado por ",(0,s.kt)("inlineCode",{parentName:"p"},"Msg")," en la figura de abajo), ej. los datos junto con el ID del espacio de nombres, y una transacci\xf3n ejecutable (indicado por ",(0,s.kt)("inlineCode",{parentName:"p"},"e-Tx")," en la figura de abajo) que no contiene los datos, pero s\xed un compromiso que puede ser utilizado m\xe1s tarde para demostrar que los datos han estado efectivamente disponibles."),(0,s.kt)("p",null,"As\xed, los datos del bloque consisten en datos particionados en espacios de nombres y transacciones ejecutables. Ten en cuenta que solo estas transacciones son ejecutadas por la m\xe1quina del estado Celestia una vez que el bloque es confirmado."),(0,s.kt)("p",null,(0,s.kt)("img",{alt:"El ciclo de vida de una transacci\xf3n en la App de Celestia",src:n(8883).Z,width:"1490",height:"658"})),(0,s.kt)("p",null,"A continuaci\xf3n, el productor de bloques a\xf1ade al encabezado un compromiso de los datos del bloque. Como se describe ",(0,s.kt)("a",{parentName:"p",href:"/es/concepts/how-celestia-works/data-availability-layer#fraud-proofs-of-incorrectly-extended-data"},"aqu\xed"),", el compromiso es la ra\xedz de Merkle de las ra\xedces intermedias 4k (i.., una para cada fila y columna de la matriz extendida). Para calcular este compromiso, el productor de bloque realiza las siguientes operaciones:"),(0,s.kt)("ul",null,(0,s.kt)("li",{parentName:"ul"},"Divide las transacciones ejecutables y los datos del espacio de nombres en acciones. Cada parte consiste en algunos bytes con prefijo de un ID de espacio de nombres. Para este fin, las transacciones ejecutables est\xe1n asociadas con un namespace reservado."),(0,s.kt)("li",{parentName:"ul"},"Establece estas acciones en una matriz cuadrada (en fila). Ten en cuenta que las acciones se a\xf1aden a la pr\xf3xima potencia de dos. El resultado cuadrado del tama\xf1o k \xd7 k se conoce como los datos originales."),(0,s.kt)("li",{parentName:"ul"},"Se extiende los datos originales a una matriz cuadrada 2k \xd7 2k usando el esquema de codificaci\xf3n 2-dimensional Reed-Salomon descrito anteriormente. Las acciones extendidas (por ejemplo, que contienen datos de borrado) est\xe1n asociadas con otro namespace reservado."),(0,s.kt)("li",{parentName:"ul"},"Calcula un compromiso para cada fila y columna de la matriz extendida usando los NMTs descritos anteriormente.")),(0,s.kt)("p",null,"Entonces el compromiso de los datos de bloque es la ra\xedz de un \xe1rbol Merkle con las hojas las ra\xedces de un bosque de sub\xe1rboles Merkle con Namespace, una para cada fila y columna de la matriz extendida."),(0,s.kt)("h2",{id:"comprobando-la-disponibilidad-de-datos"},"Comprobando la Disponibilidad de Datos"),(0,s.kt)("p",null,(0,s.kt)("img",{alt:"Red DA",src:n(2745).Z,width:"1406",height:"468"})),(0,s.kt)("p",null,"Para mejorar la conectividad, el nodo Celestia aumenta la aplicaci\xf3n Celestia con una red libp2p separada.., la llamada ",(0,s.kt)("em",{parentName:"p"},"red DA"),", que sirve solicitudes DAS."),(0,s.kt)("p",null,"Los light nodes conectados a un nodo Celestia en la red DA, escuchan encabezados de bloque extendidos (i.e. los encabezados del bloque junto con los metadatos DA relevantes, tales como la ra\xedz intermedia de Merkle), y realizan DAS en los encabezados recibidos (i.., pedir trozos de datos aleatorios)."),(0,s.kt)("p",null,"Tenga en cuenta que aunque es recomendable, El rendimiento de DAS es opcional -- los light nodes solo pod\xedan confiar en que los datos correspondientes a los compromisos en los encabezados de bloques fueron efectivamente puestos a disposici\xf3n por la capa de Celestia DA. Adem\xe1s, los light nodes tambi\xe9n pueden enviar transacciones a la aplicaci\xf3n Celestia, es decir, transacciones con ",(0,s.kt)("inlineCode",{parentName:"p"},"PayForData"),"."),(0,s.kt)("p",null,"Mientras realizas DAS para la cabecera de un bloque, cada de light node consulta a los Nodos de Celestia sobre el n\xfamero de fragmentos de datos aleatorios de la matriz extendida y pruebas de Merkle correspondientes. Si todas las consultas tienen \xe9xito, entonces el light node acepta la cabecera del bloque como v\xe1lida (desde una perspectiva de DA)."),(0,s.kt)("p",null,"Si al menos una de las consultas falla (i.e. o el fragmento de datos no es recibido o la prueba de Merkle no es v\xe1lida), entonces el light node rechaza la cabecera del bloque y vuelve a intentarlo m\xe1s tarde. El nuevo ensayo es necesario para tratar con falsos negativos, es decir, bloquear cabeceras rechazadas a pesar de que los datos del bloque est\xe1n disponibles. Esto puede suceder debido a la congesti\xf3n de la red, por ejemplo."),(0,s.kt)("p",null,"Alternativamente, los light nodes pueden aceptar un encabezado de bloque aunque los datos no est\xe1n disponibles, es decir, un ",(0,s.kt)("em",{parentName:"p"},"falso positivo"),". Esto es posible ya que la propiedad de solidez (i.e. si un light node honesto acepta un bloque como disponible, entonces al menos un full node honesto eventualmente tendr\xe1 los datos de todo el bloque) probablemente garantizado (para m\xe1s detalles, eche un vistazo al ",(0,s.kt)("a",{parentName:"p",href:"https://arxiv.org/abs/1809.09044"},"original paper"),")."),(0,s.kt)("p",null,"Afinando los par\xe1metros de Celestia (p. ej. el n\xfamero de fragmentos de datos muestreados por cada light node) la probabilidad de falsos positivos puede ser suficientemente reducida de tal manera que los productores de bloques no tengan ning\xfan incentivo para retener los datos del bloque."))}m.isMDXComponent=!0},2745:function(e,a,n){a.Z=n.p+"assets/images/consensus-da-ab9f6c12664d44ea0fb84a1ffefa321a.png"},8883:function(e,a,n){a.Z=n.p+"assets/images/tx-lifecycle-319d52b12360a167c298946bb8979b70.png"}}]);