"use strict";(self.webpackChunkcelestia_docs=self.webpackChunkcelestia_docs||[]).push([[1383],{3905:function(e,n,t){t.d(n,{Zo:function(){return A},kt:function(){return c}});var a=t(7294);function l(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function r(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function i(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?r(Object(t),!0).forEach((function(n){l(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):r(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function s(e,n){if(null==e)return{};var t,a,l=function(e,n){if(null==e)return{};var t,a,l={},r=Object.keys(e);for(a=0;a<r.length;a++)t=r[a],n.indexOf(t)>=0||(l[t]=e[t]);return l}(e,n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)t=r[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(l[t]=e[t])}return l}var o=a.createContext({}),p=function(e){var n=a.useContext(o),t=n;return e&&(t="function"==typeof e?e(n):i(i({},n),e)),t},A=function(e){var n=p(e.components);return a.createElement(o.Provider,{value:n},e.children)},u={inlineCode:"code",wrapper:function(e){var n=e.children;return a.createElement(a.Fragment,{},n)}},d=a.forwardRef((function(e,n){var t=e.components,l=e.mdxType,r=e.originalType,o=e.parentName,A=s(e,["components","mdxType","originalType","parentName"]),d=p(t),c=l,k=d["".concat(o,".").concat(c)]||d[c]||u[c]||r;return t?a.createElement(k,i(i({ref:n},A),{},{components:t})):a.createElement(k,i({ref:n},A))}));function c(e,n){var t=arguments,l=n&&n.mdxType;if("string"==typeof e||l){var r=t.length,i=new Array(r);i[0]=d;var s={};for(var o in n)hasOwnProperty.call(n,o)&&(s[o]=n[o]);s.originalType=e,s.mdxType="string"==typeof e?e:l,i[1]=s;for(var p=2;p<r;p++)i[p]=t[p];return a.createElement.apply(null,i)}return a.createElement.apply(null,t)}d.displayName="MDXCreateElement"},1972:function(e,n,t){t.r(n),t.d(n,{assets:function(){return A},contentTitle:function(){return o},default:function(){return c},frontMatter:function(){return s},metadata:function(){return p},toc:function(){return u}});var a=t(7462),l=t(3366),r=(t(7294),t(3905)),i=["components"],s={},o=void 0,p={unversionedId:"developers/node-tutorial",id:"developers/node-tutorial",title:"node-tutorial",description:"- - -",source:"@site/i18n/zh/docusaurus-plugin-content-docs/current/developers/node-tutorial.md",sourceDirName:"developers",slug:"/developers/node-tutorial",permalink:"/zh/developers/node-tutorial",draft:!1,editUrl:"https://github.com/celestiaorg/docs/tree/main/docs/developers/node-tutorial.md",tags:[],version:"current",frontMatter:{},sidebar:"developers",previous:{title:"celestia-node",permalink:"/zh/developers/celestia-node"},next:{title:"light-node-video",permalink:"/zh/developers/light-node-video"}},A={},u=[{value:"\u786c\u4ef6\u8981\u6c42",id:"\u786c\u4ef6\u8981\u6c42",level:2},{value:"\u8bbe\u7f6e\u4f9d\u8d56\u9879",id:"\u8bbe\u7f6e\u4f9d\u8d56\u9879",level:2},{value:"\u5b89\u88c5 Golang",id:"\u5b89\u88c5-golang",level:3},{value:"Celestia \u8282\u70b9",id:"celestia-\u8282\u70b9",level:2},{value:"\u5b89\u88c5Celestia\u8282\u70b9",id:"\u5b89\u88c5celestia\u8282\u70b9",level:3},{value:"\u5b9e\u4f8b\u5316Celestia\u8f7b\u8282\u70b9",id:"\u5b9e\u4f8b\u5316celestia\u8f7b\u8282\u70b9",level:3},{value:"\u8fde\u63a5\u5230\u516c\u5171\u6838\u5fc3\u7aef\u70b9",id:"\u8fde\u63a5\u5230\u516c\u5171\u6838\u5fc3\u7aef\u70b9",level:3},{value:"\u5bc6\u94a5\u548c\u94b1\u5305",id:"\u5bc6\u94a5\u548c\u94b1\u5305",level:3},{value:"\u8282\u70b9 API \u8c03\u7528",id:"\u8282\u70b9-api-\u8c03\u7528",level:2},{value:"\u4f59\u989d",id:"\u4f59\u989d",level:3},{value:"\u83b7\u53d6\u5757\u5934",id:"\u83b7\u53d6\u5757\u5934",level:3},{value:"\u63d0\u4ea4PFD\u4ea4\u6613",id:"\u63d0\u4ea4pfd\u4ea4\u6613",level:3},{value:"\u6545\u969c\u6392\u9664",id:"\u6545\u969c\u6392\u9664",level:4},{value:"\u6309\u533a\u5757\u9ad8\u5ea6\u83b7\u53d6\u547d\u540d\u7a7a\u95f4\u76f8\u5173\u7684\u6570\u636e\u7247\u6bb5",id:"\u6309\u533a\u5757\u9ad8\u5ea6\u83b7\u53d6\u547d\u540d\u7a7a\u95f4\u76f8\u5173\u7684\u6570\u636e\u7247\u6bb5",level:3}],d={toc:u};function c(e){var n=e.components,t=(0,l.Z)(e,i);return(0,r.kt)("wrapper",(0,a.Z)({},d,t,{components:n,mdxType:"MDXLayout"}),(0,r.kt)("hr",null),(0,r.kt)("p",null,"sidebar_label : \u8282\u70b9\u6559\u7a0b"),(0,r.kt)("hr",null),(0,r.kt)("h1",{id:"\u4f7f\u7528celestia\u8282\u70b9\u83b7\u53d6\u548c\u53d1\u9001\u4ea4\u6613"},"\u4f7f\u7528Celestia\u8282\u70b9\u83b7\u53d6\u548c\u53d1\u9001\u4ea4\u6613"),(0,r.kt)("p",null,"\u5728\u672c\u6559\u7a0b\u4e2d\uff0c\u6211\u4eec\u5c06\u4ecb\u7ecd\u5982\u4f55\u4f7f\u7528 Celestia \u8282\u70b9 API \u901a\u8fc7\u547d\u540d\u7a7a\u95f4 ID \u4ece\u6570\u636e\u53ef\u7528\u6027\u5c42\u63d0\u4ea4\u548c\u68c0\u7d22\u6d88\u606f\u3002"),(0,r.kt)("p",null,"\u672c\u6559\u7a0b\u5047\u8bbe\u662f\u5728Linux\u73af\u5883\u4e2d\u5de5\u4f5c\u3002"),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"\u70b9\u51fb ",(0,r.kt)("a",{parentName:"p",href:"/zh/developers/light-node-video"},"\u8fd9\u91cc"),"\u67e5\u770b\u8bbe\u7f6eCelestia\u8f7b\u8282\u70b9\u7684\u89c6\u9891\u6559\u7a0b\u3002")),(0,r.kt)("h2",{id:"\u786c\u4ef6\u8981\u6c42"},"\u786c\u4ef6\u8981\u6c42"),(0,r.kt)("p",null,"\u5efa\u8bae\u8fd0\u884c\u8f7b\u8282\u70b9\u7684\u6700\u4f4e\u786c\u4ef6\u8981\u6c42\u5982\u4e0b\uff1a"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"\u5185\u5b58: 2 GB RAM"),(0,r.kt)("li",{parentName:"ul"},"\u4e2d\u592e\u5904\u7406\u5668\uff1a\u5355\u6838"),(0,r.kt)("li",{parentName:"ul"},"\u786c\u76d8\uff1a5 GB SSD \u5bb9\u91cf"),(0,r.kt)("li",{parentName:"ul"},"\u5e26\u5bbd\uff1a\u4e0b\u8f7d 56 Kbps / \u4e0a\u4f20 56 Kbps")),(0,r.kt)("h2",{id:"\u8bbe\u7f6e\u4f9d\u8d56\u9879"},"\u8bbe\u7f6e\u4f9d\u8d56\u9879"),(0,r.kt)("p",null,"\u9996\u5148\uff0c\u8981\u786e\u8ba4\u66f4\u65b0\u548c\u5347\u7ea7\u64cd\u4f5c\u7cfb\u7edf"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sh"},"# \u5982\u679c\u4f60\u4f7f\u7528 APT package manager\nsudo apt update && sudo apt upgrade -y\n\n# \u5982\u679c\u4f60\u4f7f\u7528 YUM package manager\nsudo yum update\n")),(0,r.kt)("p",null,"\u8fd9\u4e9b\u662f\u6267\u884c\u8bb8\u591a\u4efb\u52a1\uff08\u5982\u4e0b\u8f7d\u6587\u4ef6\u3001\u7f16\u8bd1\u548c\u76d1\u63a7\u8282\u70b9\uff09\u6240\u5fc5\u9700\u7684\u57fa\u672c\u5b89\u88c5\u5305\u3002"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sh"},"# \u5982\u679c\u4f60\u4f7f\u7528 APT package manager\nsudo apt install curl tar wget clang pkg-config libssl-dev jq build-essential git make ncdu -y\n\n# \u5982\u679c\u4f60\u4f7f\u7528 YUM package manager\nsudo yum install curl tar wget clang pkg-config libssl-dev jq build-essential git make ncdu -y\n")),(0,r.kt)("h3",{id:"\u5b89\u88c5-golang"},"\u5b89\u88c5 Golang"),(0,r.kt)("p",null,"Celestia-app\u548ccelestia-node\u662f\u7528",(0,r.kt)("a",{parentName:"p",href:"https://go.dev/"},"Golang"),"\u7f16\u5199\u7684\uff0c\u6240\u4ee5\u6211\u4eec\u5fc5\u987b\u5b89\u88c5Golang\u6765\u6784\u5efa\u548c\u8fd0\u884c\u5b83\u4eec\u3002"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sh"},'ver="1.19.1"\ncd $HOME\nwget "https://golang.org/dl/go$ver.linux-amd64.tar.gz"\nsudo rm -rf /usr/local/go\nsudo tar -C /usr/local -xzf "go$ver.linux-amd64.tar.gz"\nrm "go$ver.linux-amd64.tar.gz"\n')),(0,r.kt)("p",null,"\u73b0\u5728\u6211\u4eec\u9700\u8981\u628a ",(0,r.kt)("inlineCode",{parentName:"p"},"/usr/local/go/bin")," \u76ee\u5f55\u6dfb\u52a0\u5230 ",(0,r.kt)("inlineCode",{parentName:"p"},"$PATH"),"\u3002"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sh"},'echo "export PATH=$PATH:/usr/local/go/bin:$HOME/go/bin" >> $HOME/.bash_profile\nsource $HOME/.bash_profile\n')),(0,r.kt)("p",null,"\u8981\u68c0\u67e5Go\u662f\u5426\u88ab\u6b63\u786e\u5b89\u88c5\uff0c\u8bf7\u8fd0\u884c\u3002"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sh"},"go version\n")),(0,r.kt)("p",null,"\u8f93\u51fa\u7684\u4fe1\u606f\u5e94\u8be5\u662f\u6240\u5b89\u88c5\u7684\u7248\u672c\u3002"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sh"},"go version go1.18.2 linux/amd64\n")),(0,r.kt)("h2",{id:"celestia-\u8282\u70b9"},"Celestia \u8282\u70b9"),(0,r.kt)("h3",{id:"\u5b89\u88c5celestia\u8282\u70b9"},"\u5b89\u88c5Celestia\u8282\u70b9"),(0,r.kt)("p",null,"\u901a\u8fc7\u8fd0\u884c\u4ee5\u4e0b\u547d\u4ee4\u5b89\u88c5celestia-node\u4e8c\u8fdb\u5236\u6587\u4ef6\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sh"},"cd $HOME\nrm -rf celestia-node\ngit clone https://github.com/celestiaorg/celestia-node.git\ncd celestia-node/\ngit checkout tags/v0.3.1\nmake install\nmake cel-key\n")),(0,r.kt)("p",null,"\u9a8c\u8bc1\u4e8c\u8fdb\u5236\u6587\u4ef6\u662f\u5426\u5de5\u4f5c\uff0c\u7528celestia version\u547d\u4ee4\u68c0\u67e5\u7248\u672c\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sh"},"$ celestia version\nSemantic version: v0.3.1\nCommit: 8bce8d023f9d0a1929e56885e439655717aea4e4\nBuild Date: Thu Sep 22 15:15:43 UTC 2022\nSystem version: amd64/linux\nGolang version: go1.19.1\n")),(0,r.kt)("h3",{id:"\u5b9e\u4f8b\u5316celestia\u8f7b\u8282\u70b9"},"\u5b9e\u4f8b\u5316Celestia\u8f7b\u8282\u70b9"),(0,r.kt)("p",null,"\u73b0\u5728\uff0c\u8ba9\u6211\u4eec\u5b9e\u4f8b\u5316\u4e00\u4e2aCelestia\u8f7b\u8282\u70b9\uff1a"),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"\u6ce8\u610f\uff1a\u6240\u6709Celestia\u8282\u70b9\u7c7b\u578b\u90fd\u4f1a\u66b4\u9732RPC\u7aef\u70b9\uff0c\u5305\u62ec\u4f46\u4e0d\u9650\u4e8e\u8f7b\u8282\u70b9\u3001\u6865\u63a5\u7ed3\u70b9\u548c\u5168\u8282\u70b9\u3002")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sh"},"celestia light init\n")),(0,r.kt)("h3",{id:"\u8fde\u63a5\u5230\u516c\u5171\u6838\u5fc3\u7aef\u70b9"},"\u8fde\u63a5\u5230\u516c\u5171\u6838\u5fc3\u7aef\u70b9"),(0,r.kt)("p",null,"\u73b0\u5728\u8ba9\u6211\u4eec\u8fd0\u884c Celestia\u8f7b\u8282\u70b9\uff0c\u5e76\u901a\u8fc7GRPC\u8fde\u63a5\u5230\u793a\u4f8b\u516c\u5171\u6838\u5fc3\u7aef\u70b9\u3002"),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"\u6ce8\u610f\uff1a\u6211\u4eec\u8fd8\u9f13\u52b1\u60a8\u4f7f\u7528\u793e\u533a\u4e2d\u63d0\u4f9b\u7684API\u7ec8\u7ed3\u70b9\uff0c\u6bd4\u5982Discord\u4e2d\u6709\u4e00\u4e9b\u7ec8\u7ed3\u70b9\u3002 \u8fd9\u4e00\u4e2a\u7528\u4e8e\u6f14\u793a\u76ee\u7684\uff0c \u4f60\u53ef\u4ee5\u5728",(0,r.kt)("a",{parentName:"p",href:"/zh/nodes/arabica-devnet#rpc-endpoints"},"\u8fd9\u91cc"),"\u627e\u5230 RPC \u7aef\u70b9\u7684\u5217\u8868")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sh"},"celestia light start --core.ip <ip-address> --core.grpc.port <port>\n")),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"\u6ce8\u610f\uff1a ",(0,r.kt)("inlineCode",{parentName:"p"},"--core.grpc\u3002 ort")," \u9ed8\u8ba4\u4e3a9090\uff0c \u5982\u679c\u60a8\u6ca1\u6709\u5728\u547d\u4ee4\u884c\u4e2d\u6307\u5b9a \u5b83\uff0c\u5b83\u5c06\u9ed8\u8ba4\u8bbe\u7f6e\u4e3a\u8be5\u7aef\u53e3\u3002 \u5982\u679c\u4f60\u559c\u6b22\uff0c\u4f60\u53ef\u4ee5\u4f7f\u7528\u6807\u6ce8\u6765\u6307\u5b9a\u53e6\u4e00\u4e2a\u7aef\u53e3\u3002")),(0,r.kt)("p",null,"\u4f8b\u5982\uff0c\u547d\u4ee4\u8fde\u540c RPC \u7aef\u70b9\u53ef\u80fd\u770b\u8d77\u6765\u50cf\u8fd9\u6837\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sh"},"celestia light start --core.ip https://limani.celestia-devops.dev --core.grpc.port 9090\n")),(0,r.kt)("h3",{id:"\u5bc6\u94a5\u548c\u94b1\u5305"},"\u5bc6\u94a5\u548c\u94b1\u5305"),(0,r.kt)("p",null,"\u60a8\u53ef\u4ee5\u901a\u8fc7\u8fd0\u884c\u4ee5\u4e0b\u547d\u4ee4\u4e3a\u60a8\u7684\u8282\u70b9\u521b\u5efa\u5bc6\u94a5\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sh"},"./cel-key add <key_name> --keyring-backend test --node.type light\n")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sh"},"celestia light start --core.ip <ip-address> --core.grpc.port <port> --keyring.accname <key_name> \n")),(0,r.kt)("p",null,"\u4e00\u65e6\u542f\u52a8\u8f7b\u8282\u70b9\uff0c\u94b1\u5305\u5bc6\u94a5\u5c06\u4f1a\u751f\u6210\u3002 \u60a8\u9700\u8981\u7528 Arabica\u5f00\u53d1\u7f51\u4ee3\u5e01\u4e3a\u8be5\u5730\u5740\u63d0\u4f9b\u8d44\u91d1\uff0c\u4ee5\u652f\u4ed8 PayForData \u4ea4\u6613\u3002"),(0,r.kt)("p",null,"\u60a8\u53ef\u4ee5\u5728\u76ee\u5f55 ",(0,r.kt)("inlineCode",{parentName:"p"},"celestia-node")," \u8fd0\u884c\u4ee5\u4e0b\u547d\u4ee4\u627e\u5230\u8be5\u5730\u5740\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sh"},"/cel-key list --node.type light --keyring-backend test\n")),(0,r.kt)("p",null,"\u5982\u679c\u60f3\u5c06\u6d4b\u8bd5\u7f51\u4ee3\u5e01\u8f6c\u5165\u60a8\u7684\u94b1\u5305\uff0c\u8bf7\u5230 Celestia Discord \u9891\u9053 ",(0,r.kt)("inlineCode",{parentName:"p"},"#faucet"),"\u3002"),(0,r.kt)("p",null,"\u60a8\u53ef\u4ee5\u5728 Discord \u4e2d\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\u5411\u60a8\u7684\u94b1\u5305\u5730\u5740\u8bf7\u6c42\u8d44\u91d1\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-console"},"$request <Wallet-Address>\n")),(0,r.kt)("p",null,"\u5f53\u60a8\u521b\u5efa\u94b1\u5305\u65f6\uff0c\u751f\u6210\u7684",(0,r.kt)("inlineCode",{parentName:"p"},"<Wallet-Address>"),"\u5730\u5740\u5f62\u5982",(0,r.kt)("inlineCode",{parentName:"p"},"celestia1******"),"\u3002"),(0,r.kt)("p",null,"\u60a8\u7684\u94b1\u5305\u6709\u4e86\u8d44\u91d1\uff0c\u60a8\u53ef\u4ee5\u7ee7\u7eed\u4e0b\u4e00\u6b65\u3002"),(0,r.kt)("h2",{id:"\u8282\u70b9-api-\u8c03\u7528"},"\u8282\u70b9 API \u8c03\u7528"),(0,r.kt)("p",null,"\u6253\u5f00\u53e6\u4e00\u4e2a\u7ec8\u7aef\u7a97\u53e3\u4ee5\u5f00\u59cb\u67e5\u8be2 API\u3002 Open up another terminal window in order to begin querying the API. ",(0,r.kt)("inlineCode",{parentName:"p"},"celestia-node")," exposes its RPC endpoint on port ",(0,r.kt)("inlineCode",{parentName:"p"},"26658")," by default."),(0,r.kt)("h3",{id:"\u4f59\u989d"},"\u4f59\u989d"),(0,r.kt)("p",null,"\u73b0\u5728\uff0c\u8ba9\u6211\u4eec\u67e5\u8be2\u6211\u4eec\u7684\u8282\u70b9\u7684\u9ed8\u8ba4\u8d26\u6237\u4f59\u989d (\u8fd9\u662f\u6211\u4eec\u5148\u524d\u751f\u6210\u7684 ",(0,r.kt)("inlineCode",{parentName:"p"},"developer")," \u5bc6\u94a5\u5173\u8054\u7684\u8d26\u6237)\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sh"},"curl -X GET http://127.0.0.1:26658/balance\n")),(0,r.kt)("p",null,"\u5b83\u5c06\u8f93\u51fa\u4ee5\u4e0b\u5185\u5bb9\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json"},'{\n   "denom":"utia",\n   "amount":"999995000000000"\n}\n')),(0,r.kt)("p",null,"\u8fd9\u663e\u793a\u94b1\u5305\u4e2d\u7684\u4f59\u989d\u3002"),(0,r.kt)("h3",{id:"\u83b7\u53d6\u5757\u5934"},"\u83b7\u53d6\u5757\u5934"),(0,r.kt)("p",null,"\u73b0\u5728\uff0c\u8ba9\u6211\u4eec\u83b7\u53d6\u5757\u5934\u4fe1\u606f\u3002"),(0,r.kt)("p",null,"\u5728\u8fd9\u91cc\uff0c\u6211\u4eec\u83b7\u53d6\u57571\u7684\u5757\u5934\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sh"},"curl -X GET http://127.0.0.1:26658/header/1\n")),(0,r.kt)("p",null,"\u5b83\u5c06\u8f93\u51fa\u5982\u4e0b\u5185\u5bb9\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json"},'{\n   "header":{\n      "version":{\n         "block":11\n      },\n      "chain_id":"devnet-2",\n      "height":1,\n      "time":"2021-11-23T02:24:05.965728875Z",\n      "last_block_id":{\n         "hash":"",\n         "parts":{\n            "total":0,\n            "hash":""\n         }\n      },\n      "last_commit_hash":"E3B0C44298FC1C149AFBF4C8996FB92427AE41E4649B934CA495991B7852B855",\n      "data_hash":"7B578B351B1B0BBD70BB350019EBC964C44A140A37EF715B552A7F8F315ACD19",\n      "validators_hash":"7F4EA93A134DEDBDA6A1FDD30D05760DD98A2B5FBA95DB3EFFFE7FCE4B361855",\n      "next_validators_hash":"7F4EA93A134DEDBDA6A1FDD30D05760DD98A2B5FBA95DB3EFFFE7FCE4B361855",\n      "consensus_hash":"048091BC7DDC283F77BFBF91D73C44DA58C3DF8A9CBC867405D8B7F3DAADA22F",\n      "app_hash":"E3B0C44298FC1C149AFBF4C8996FB92427AE41E4649B934CA495991B7852B855",\n      "last_results_hash":"E3B0C44298FC1C149AFBF4C8996FB92427AE41E4649B934CA495991B7852B855",\n      "evidence_hash":"E3B0C44298FC1C149AFBF4C8996FB92427AE41E4649B934CA495991B7852B855",\n      "proposer_address":"04881EB0A0A4C1DB414C708249CEEC2FCF348F3E"\n   },\n   "commit":{\n      "height":1,\n      "round":1,\n      "block_id":{\n         "hash":"4632277C441CA6155C4374AC56048CF4CFE3CBB2476E07A548644435980D5E17",\n         "parts":{\n            "total":1,\n            "hash":"BE1B789969938DB061B7723BE45C8A7B4B27192339A8E0A4E216775B2CB58D97"\n         }\n      },\n      "signatures":[\n         {\n            "block_id_flag":2,\n            "validator_address":"03F1044A6DF782189C7061FF89146B3D33608F17",\n            "timestamp":"2021-11-23T11:53:56.123958759Z",\n            "signature":"q/XF7Nc2ThcQgWfqi6LYOUEqLcU+sgVPY1nB2CLWdjRo80WwI6xy6QaYx1B0lmcKAkWR0YMxbc7vJzKF70qwBA=="\n         },\n         {\n            "block_id_flag":2,\n            "validator_address":"04881EB0A0A4C1DB414C708249CEEC2FCF348F3E",\n            "timestamp":"2021-11-23T11:53:56.036027188Z",\n            "signature":"0bbxeviCvgLlyIF47JoY1CMN2e/MhHtFzhdgV0zCM+P3qeO/rkh+0TSxoRVUB1MDvMCoA8hyffCw3amxympMAA=="\n         },\n         {\n            "block_id_flag":2,\n            "validator_address":"31711F367349D1BD619BD0A39568A69614B8A048",\n            "timestamp":"2021-11-23T11:53:56.135943844Z",\n            "signature":"gT23rZ8+XcG5rQ9QS+uh+Wn5eAiJDVy8bh23Fb8hevnHsuO1er2892MXAohaLRF6TTWs/C6dItYph4B/k3b6DQ=="\n         },\n         {\n            "block_id_flag":2,\n            "validator_address":"5A253EC2A9AB20AFD48C7BED2AFCA53F5C80BCA6",\n            "timestamp":"2021-11-23T11:53:56.081698742Z",\n            "signature":"nMngIlJ7PPPtu0N20YwKhWt/H3/JrEKJC3rnS5KG/8J3IppTacuwjGDUqIuHpRlrD0MmWa1mlY+6+ulbytt2AA=="\n         },\n         {\n            "block_id_flag":2,\n            "validator_address":"79BEB39F4B396F9278DA03F1C97F9BE3B10B12D3",\n            "timestamp":"2021-11-23T11:53:56.037896319Z",\n            "signature":"wPAL/sK4YXSU7iRXl00GDLvi4IItVlkY2zRkxIUeV9VA3Tq8Tke6wGE0N6pXKmtMcKUMoyjm03RWHv4mrtj1BA=="\n         },\n         {\n            "block_id_flag":1,\n            "validator_address":"",\n            "timestamp":"0001-01-01T00:00:00Z",\n            "signature":null\n         },\n         {\n            "block_id_flag":1,\n            "validator_address":"",\n            "timestamp":"0001-01-01T00:00:00Z",\n            "signature":null\n         },\n         {\n            "block_id_flag":2,\n            "validator_address":"D345D62BBD18C301B843DF7C65F10E57AB17BD98",\n            "timestamp":"2021-11-23T11:53:56.123499237Z",\n            "signature":"puj5Epw3yPGjSsJk6aQI74S2prgL7+cuiEpCxXYzQxOi0kNIqh8UMZLYf+AVHDQNJXehSmrAK6+VsIt9NF0DDg=="\n         },\n         {\n            "block_id_flag":2,\n            "validator_address":"DEC2642E786A941511A401090D21621E7F08A36D",\n            "timestamp":"2021-11-23T11:53:56.123136439Z",\n            "signature":"J/lnFqARXj42Lfx5MGY0FO/wug+AyQRxTnQp1u1HyczvV+0hXXuk06Uosi61jQKgJG6JBJF2VidqA41/uKMEDw=="\n         }\n      ]\n   },\n   "validator_set":{\n      "validators":[\n         {\n            "address":"03F1044A6DF782189C7061FF89146B3D33608F17",\n            "pub_key":"sMcFgSIzlD77eZYgV7H4akyxoHCPc2oIQW05qWEB6b4=",\n            "voting_power":5000,\n            "proposer_priority":-40000\n         },\n         {\n            "address":"04881EB0A0A4C1DB414C708249CEEC2FCF348F3E",\n            "pub_key":"WdqZ8hoyc1HxZCJfQrAGKm2fFJZFg7PngPNGkA1RWXc=",\n            "voting_power":5000,\n            "proposer_priority":5000\n         },\n         {\n            "address":"31711F367349D1BD619BD0A39568A69614B8A048",\n            "pub_key":"pvwSRksq3ekXIiYK7IzjQJ870BxLqEma8zRr9n9VnXI=",\n            "voting_power":5000,\n            "proposer_priority":5000\n         },\n         {\n            "address":"5A253EC2A9AB20AFD48C7BED2AFCA53F5C80BCA6",\n            "pub_key":"RnmnTlKoKxNoh2TpohBDP3cKlx4ATiPOCvQFk/6xpUU=",\n            "voting_power":5000,\n            "proposer_priority":5000\n         },\n         {\n            "address":"79BEB39F4B396F9278DA03F1C97F9BE3B10B12D3",\n            "pub_key":"oh/N+GOIennBOAa/gPNCso1mDlqaHQNn7Op/X8opbeY=",\n            "voting_power":5000,\n            "proposer_priority":5000\n         },\n         {\n            "address":"7F1105B7B219481810C49730AECB1A83036BCA3A",\n            "pub_key":"Ow/AHP/Q3guPGymUKpvhnwae+QoCOpGztpVnP179IG8=",\n            "voting_power":5000,\n            "proposer_priority":5000\n         },\n         {\n            "address":"87265CC17922E01497F40B701EC9F05373B83467",\n            "pub_key":"MNi0Z+uNF5X1Bxj988IDXVl0BKUcLs7LItoMnX6dbg4=",\n            "voting_power":5000,\n            "proposer_priority":5000\n         },\n         {\n            "address":"D345D62BBD18C301B843DF7C65F10E57AB17BD98",\n            "pub_key":"4g3hhdyU4IIgWW/4sR0nax8bsC/M/fDbt1N8s/QanF8=",\n            "voting_power":5000,\n            "proposer_priority":5000\n         },\n         {\n            "address":"DEC2642E786A941511A401090D21621E7F08A36D",\n            "pub_key":"b+Vv6Lcp0bhIjOQncr+OYBHixCvU5+k34y4RqyvpluE=",\n            "voting_power":5000,\n            "proposer_priority":5000\n         }\n      ],\n      "proposer":{\n         "address":"03F1044A6DF782189C7061FF89146B3D33608F17",\n         "pub_key":"sMcFgSIzlD77eZYgV7H4akyxoHCPc2oIQW05qWEB6b4=",\n         "voting_power":5000,\n         "proposer_priority":-40000\n      }\n   },\n   "dah":{\n      "row_roots":[\n         "//////////7//////////uyLCVMJmAItYqbOqgHXm3OwHsq1xQiAX1kZV2Tgcobm",\n         "/////////////////////ykyWNfDJZfigziZC5BN5L00KKuoyDPduwynDywauskL"\n      ],\n      "column_roots":[\n         "//////////7//////////uyLCVMJmAItYqbOqgHXm3OwHsq1xQiAX1kZV2Tgcobm",\n         "/////////////////////ykyWNfDJZfigziZC5BN5L00KKuoyDPduwynDywauskL"\n      ]\n   }\n}\n')),(0,r.kt)("h3",{id:"\u63d0\u4ea4pfd\u4ea4\u6613"},"\u63d0\u4ea4PFD\u4ea4\u6613"),(0,r.kt)("p",null,"\u5728\u6b64\u793a\u4f8b\u4e2d\uff0c\u6211\u4eec\u5c06\u5411\u8282\u70b9\u7684",(0,r.kt)("inlineCode",{parentName:"p"},"/submit_pfd")," \u7aef\u70b9\u63d0\u4ea4 PayForData \u4ea4\u6613\u3002"),(0,r.kt)("p",null,"\u6ce8\u610f\u4e8b\u9879\uff1a"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"PFD\u6307PayForData \u6d88\u606f"),(0,r.kt)("li",{parentName:"ul"},"\u7aef\u70b9\u5c06",(0,r.kt)("inlineCode",{parentName:"li"},"namespace_id"),"\u548c",(0,r.kt)("inlineCode",{parentName:"li"},"data"),"\u503c\u4f5c\u4e3a\u8f93\u5165\u3002"),(0,r.kt)("li",{parentName:"ul"},"\u547d\u540d\u7a7a\u95f4 ID \u5e94\u4e3a8\u5b57\u8282\u3002"),(0,r.kt)("li",{parentName:"ul"},"\u6570\u636e\u662f\u539f\u59cb\u6d88\u606f\u7684\u5341\u516d\u8fdb\u5236\u7f16\u7801\u5b57\u8282\u3002"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"gas_limit"),"\u662f\u7528\u4e8e\u4ea4\u6613\u7684\u71c3\u6599\u9650\u5236")),(0,r.kt)("p",null,"\u6211\u4eec\u5047\u5b9a",(0,r.kt)("inlineCode",{parentName:"p"},"namespace_id"),"\u4e3a",(0,r.kt)("inlineCode",{parentName:"p"},"0000010000000100"),"\uff0c\u4ee5\u53ca",(0,r.kt)("inlineCode",{parentName:"p"},"data"),"\u503c\u4e3a",(0,r.kt)("inlineCode",{parentName:"p"},"f1f20ca8007e910a3bf8b2e61da0f26bca07ef78717a6ea54165f5"),"\u3002"),(0,r.kt)("p",null,"\u60a8\u53ef\u4ee5\u5728",(0,r.kt)("a",{parentName:"p",href:"https://go.dev/play/p/7ltvaj8lhRl"},"\u8fd9\u91cc"),"\u751f\u6210\u81ea\u5df1\u7684",(0,r.kt)("inlineCode",{parentName:"p"},"namespace_id"),"\u503c\u548cdata\u503c\uff0c\u6211\u4eec\u521b\u5efa\u4e86\u4e00\u4e2a\u53ef\u7528\u7684Golang\u8bd5\u9a8c\u573a\u3002"),(0,r.kt)("p",null,"\u8fd0\u884c\u4ee5\u4e0b\u547d\u4ee4\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sh"},'curl -X POST -d \'{"namespace_id": "0c204d39600fddd3",\n  "data": "f1f20ca8007e910a3bf8b2e61da0f26bca07ef78717a6ea54165f5",\n  "gas_limit": 60000}\' http://localhost:26658/submit_pfd\n')),(0,r.kt)("p",null,"\u6211\u4eec\u5f97\u5230\u4ee5\u4e0b\u8f93\u51fa\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json"},'{\n   "height":2452,\n   "txhash":"04A79AF9DA62FDB41ACD7D82EB0B9004AE4E4ED603B280A65816560B4F38A999",\n   "data":"12200A1E2F7061796D656E742E4D7367506179466F7244617461526573706F6E7365",\n   "raw_log":"[{\\"msg_index\\":0,\\"events\\":[{\\"type\\":\\"message\\",\\"attributes\\":[{\\"key\\":\\"action\\",\\"value\\":\\"/payment.MsgPayForData\\"}]},{\\"type\\":\\"payfordata\\",\\"attributes\\":[{\\"key\\":\\"signer\\",\\"value\\":\\"celestia1vdjkcetnw35kzvtgxvmxwmnwwaaxuet4xp3hxut6dce8wctsdq6hjwfcxd5xvvmyddsh5mnvvaaq6776xw\\"},{\\"key\\":\\"size\\",\\"value\\":\\"27\\"}]}]}]",\n   "logs":[\n      {\n         "msg_index":0,\n         "events":[\n            {\n               "type":"message",\n               "attributes":[\n                  {\n                     "key":"action",\n                     "value":"/payment.MsgPayForData"\n                  }\n               ]\n            },\n            {\n               "type":"payfordata",\n               "attributes":[\n                  {\n                     "key":"signer",\n                     "value":"celestia1vdjkcetnw35kzvtgxvmxwmnwwaaxuet4xp3hxut6dce8wctsdq6hjwfcxd5xvvmyddsh5mnvvaaq6776xw"\n                  },\n                  {\n                     "key":"size",\n                     "value":"27"\n                  }\n               ]\n            }\n         ]\n      }\n   ],\n   "events":[\n      {\n         "type":"coin_spent",\n         "attributes":[\n            {\n               "key":"spender",\n               "value":"celestia10jhckjxxymsufflglvypxscnmggetwh0gfasws",\n               "index":true\n            },\n            {\n               "key":"amount",\n               "value":"1utia",\n               "index":true\n            }\n         ]\n      },\n      {\n         "type":"coin_received",\n         "attributes":[\n            {\n               "key":"receiver",\n               "value":"celestia17xpfvakm2amg962yls6f84z3kell8c5lpnjs3s",\n               "index":true\n            },\n            {\n               "key":"amount",\n               "value":"1utia",\n               "index":true\n            }\n         ]\n      },\n      {\n         "type":"transfer",\n         "attributes":[\n            {\n               "key":"recipient",\n               "value":"celestia17xpfvakm2amg962yls6f84z3kell8c5lpnjs3s",\n               "index":true\n            },\n            {\n               "key":"sender",\n               "value":"celestia10jhckjxxymsufflglvypxscnmggetwh0gfasws",\n               "index":true\n            },\n            {\n               "key":"amount",\n               "value":"1utia",\n               "index":true\n            }\n         ]\n      },\n      {\n         "type":"message",\n         "attributes":[\n            {\n               "key":"sender",\n               "value":"celestia10jhckjxxymsufflglvypxscnmggetwh0gfasws",\n               "index":true\n            }\n         ]\n      },\n      {\n         "type":"tx",\n         "attributes":[\n            {\n               "key":"fee",\n               "value":"1utia",\n               "index":true\n            }\n         ]\n      },\n      {\n         "type":"tx",\n         "attributes":[\n            {\n               "key":"acc_seq",\n               "value":"celestia10jhckjxxymsufflglvypxscnmggetwh0gfasws/267",\n               "index":true\n            }\n         ]\n      },\n      {\n         "type":"tx",\n         "attributes":[\n            {\n               "key":"signature",\n               "value":"JMNihnKS/MtYJDprqEFGJuXh16tVADsDDxXaFFpvv2te57btl4LbiRzwRRiN2rvwkJ2zlAApu2ImT22MZBi5+A==",\n               "index":true\n            }\n         ]\n      },\n      {\n         "type":"tx",\n         "attributes":[\n            {\n               "key":"fee",\n               "value":"",\n               "index":true\n            }\n         ]\n      },\n      {\n         "type":"tx",\n         "attributes":[\n            {\n               "key":"acc_seq",\n               "value":"celestia13zx48t96zauht0kpcn0kcfykc9wn8fehzcp9wq/1024",\n               "index":true\n            }\n         ]\n      },\n      {\n         "type":"tx",\n         "attributes":[\n            {\n               "key":"signature",\n               "value":"mIZIjbzN0/RQAlQN7TDWzqtey3vVBPe7IO3+IIDhJstIH8QU9vsHfl0Rql9qWMZQG4dM+77w9WmUcnCeS7edfw==",\n               "index":true\n            }\n         ]\n      },\n      {\n         "type":"tx",\n         "attributes":[\n            {\n               "key":"fee",\n               "value":"",\n               "index":true\n            }\n         ]\n      },\n      {\n         "type":"tx",\n         "attributes":[\n            {\n               "key":"acc_seq",\n               "value":"celestia1h36gnnwzneu0csqzn2waph5y983hf3dkaznlgz/0",\n               "index":true\n            }\n         ]\n      },\n      {\n         "type":"tx",\n         "attributes":[\n            {\n               "key":"signature",\n               "value":"sfy+XyP7iWU+V9q3zEIOWxbGihvhzUKRLNVeXP+a+5oRefIA/Pyqfm13A5NU9I27hhfvpqo9vhXW1waRgcI9OA==",\n               "index":true\n            }\n         ]\n      },\n      {\n         "type":"message",\n         "attributes":[\n            {\n               "key":"action",\n               "value":"/payment.MsgPayForData",\n               "index":true\n            }\n         ]\n      },\n      {\n         "type":"payfordata",\n         "attributes":[\n            {\n               "key":"signer",\n               "value":"celestia1vdjkcetnw35kzvtgxvmxwmnwwaaxuet4xp3hxut6dce8wctsdq6hjwfcxd5xvvmyddsh5mnvvaaq6776xw",\n               "index":true\n            },\n            {\n               "key":"size",\n               "value":"27",\n               "index":true\n            }\n         ]\n      }\n   ]\n}\n')),(0,r.kt)("p",null,"\u8bf7\u60a8\u6ce8\u610f\u5230\u4e0a\u8ff0\u8f93\u51fa\uff0c \u5b83\u8fd4\u56de",(0,r.kt)("inlineCode",{parentName:"p"},"\u9ad8\u5ea6"),"\u4e3a",(0,r.kt)("inlineCode",{parentName:"p"},"2452"),"\uff0c\u6211\u4eec\u5c06\u5b83\u7528\u4e8e\u4e0b\u4e00\u4e2a\u547d\u4ee4\u3002"),(0,r.kt)("h4",{id:"\u6545\u969c\u6392\u9664"},"\u6545\u969c\u6392\u9664"),(0,r.kt)("p",null,"\u5982\u679c\u4f60\u9047\u5230\u7c7b\u4f3c\u7684\u9519\u8bef\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-console"},'$ curl -X POST -d \'{"namespace_id": "c14da9d459dc57f5", "data": "4f7a3f1aadd83255b8410fef4860c0cd2eba82e24a", "gas_limit": 60000}\'  localhost:26658/submit_pfd\n"rpc error: code = NotFound desc = account celestia1krkle0n547u0znz3unnln8paft2dq4z3rznv86 not found"\n')),(0,r.kt)("p",null,"\u6709\u53ef\u80fd\u662f\u4f60\u8bd5\u56fe\u63d0\u4ea4 PayForData \u7684\u8d26\u6237 \u8fd8\u6ca1\u6709\u6d4b\u8bd5\u7f51\u4ee3\u5e01\u3002 \u786e\u4fdd\u6d4b\u8bd5\u7f51\u6c34\u9f99\u5934\u5df2\u7ecf\u5c06\u6d4b\u8bd5\u4ee3\u5e01\u8f6c\u5230\u4f60\u7684\u8d26\u6237\uff0c\u7136\u540e\u518d\u8bd5\u4e00\u6b21\u3002"),(0,r.kt)("h3",{id:"\u6309\u533a\u5757\u9ad8\u5ea6\u83b7\u53d6\u547d\u540d\u7a7a\u95f4\u76f8\u5173\u7684\u6570\u636e\u7247\u6bb5"},"\u6309\u533a\u5757\u9ad8\u5ea6\u83b7\u53d6\u547d\u540d\u7a7a\u95f4\u76f8\u5173\u7684\u6570\u636e\u7247\u6bb5"),(0,r.kt)("p",null,"\u5728\u63d0\u4ea4\u60a8\u7684 PFD \u4ea4\u6613\u540e\uff0c\u8be5\u8282\u70b9\u4f1a\u8fd4\u56de\u5305\u542bPFD \u4ea4\u6613\u7684 \u5757\u9ad8\u5ea6\u3002 After submitting your PFD transaction, upon success, the node will return the block height for which the PFD transaction was included. You can then use that block height and the namespace ID with which you submitted your PFD transaction to get your message shares returned to you. In this example, the block height we got was 589 which we will use for the following command. \u5728\u8fd9\u4e2a\u4f8b\u5b50\u4e2d\uff0c\u6211\u4eec\u5f97\u5230\u7684\u5757\u9ad8\u5ea6\u662f2452\uff0c\u6211\u4eec\u5c06\u5728\u4e0b\u9762\u7684\u547d\u4ee4\u4e2d\u4f7f\u7528\u5b83\u3002"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sh"},"curl -X GET \\\n  http://localhost:26658/namespaced_shares/0c204d39600fddd3/height/2452\n")),(0,r.kt)("p",null,"\u6211\u4eec\u5f97\u5230\u4ee5\u4e0b\u8f93\u51fa\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json"},'{\n   "shares":[\n      "DCBNOWAP3dMb8fIMqAB+kQo7+LLmHaDya8oH73hxem6lQWX1AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=="\n   ],\n   "height":2452\n}\n')),(0,r.kt)("p",null,"\u8fd9\u91cc\u7684\u8f93\u51fa\u662fbase64\u7f16\u7801\u6570\u636e\u3002"))}c.isMDXComponent=!0}}]);