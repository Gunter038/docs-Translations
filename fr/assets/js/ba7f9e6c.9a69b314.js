"use strict";(self.webpackChunkcelestia_docs=self.webpackChunkcelestia_docs||[]).push([[2781],{3905:function(e,n,t){t.d(n,{Zo:function(){return c},kt:function(){return m}});var a=t(7294);function r(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function o(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function l(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?o(Object(t),!0).forEach((function(n){r(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):o(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function s(e,n){if(null==e)return{};var t,a,r=function(e,n){if(null==e)return{};var t,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)t=o[a],n.indexOf(t)>=0||(r[t]=e[t]);return r}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)t=o[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var i=a.createContext({}),u=function(e){var n=a.useContext(i),t=n;return e&&(t="function"==typeof e?e(n):l(l({},n),e)),t},c=function(e){var n=u(e.components);return a.createElement(i.Provider,{value:n},e.children)},d={inlineCode:"code",wrapper:function(e){var n=e.children;return a.createElement(a.Fragment,{},n)}},p=a.forwardRef((function(e,n){var t=e.components,r=e.mdxType,o=e.originalType,i=e.parentName,c=s(e,["components","mdxType","originalType","parentName"]),p=u(t),m=r,v=p["".concat(i,".").concat(m)]||p[m]||d[m]||o;return t?a.createElement(v,l(l({ref:n},c),{},{components:t})):a.createElement(v,l({ref:n},c))}));function m(e,n){var t=arguments,r=n&&n.mdxType;if("string"==typeof e||r){var o=t.length,l=new Array(o);l[0]=p;var s={};for(var i in n)hasOwnProperty.call(n,i)&&(s[i]=n[i]);s.originalType=e,s.mdxType="string"==typeof e?e:r,l[1]=s;for(var u=2;u<o;u++)l[u]=t[u];return a.createElement.apply(null,l)}return a.createElement.apply(null,t)}p.displayName="MDXCreateElement"},1394:function(e,n,t){t.r(n),t.d(n,{assets:function(){return c},contentTitle:function(){return i},default:function(){return m},frontMatter:function(){return s},metadata:function(){return u},toc:function(){return d}});var a=t(7462),r=t(3366),o=(t(7294),t(3905)),l=["components"],s={sidebar_label:"Ex\xe9cuter la chaine Wordle"},i="Ex\xe9cuter la chaine Wordle",u={unversionedId:"developers/run-wordle",id:"developers/run-wordle",title:"Ex\xe9cuter la chaine Wordle",description:"Construire et ex\xe9cuter la chaine Wordle",source:"@site/i18n/fr/docusaurus-plugin-content-docs/current/developers/run-wordle.md",sourceDirName:"developers",slug:"/developers/run-wordle",permalink:"/fr/developers/run-wordle",draft:!1,editUrl:"https://github.com/celestiaorg/docs/tree/main/docs/developers/run-wordle.md",tags:[],version:"current",frontMatter:{sidebar_label:"Ex\xe9cuter la chaine Wordle"},sidebar:"developers",previous:{title:"Gardien",permalink:"/fr/developers/wordle-keeper"},next:{title:"CosmWasm",permalink:"/fr/category/cosmwasm"}},c={},d=[{value:"Construire et ex\xe9cuter la chaine Wordle",id:"construire-et-ex\xe9cuter-la-chaine-wordle",level:2},{value:"\xc9tendre dans le futur",id:"\xe9tendre-dans-le-futur",level:2}],p={toc:d};function m(e){var n=e.components,t=(0,r.Z)(e,l);return(0,o.kt)("wrapper",(0,a.Z)({},p,t,{components:n,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"ex\xe9cuter-la-chaine-wordle"},"Ex\xe9cuter la chaine Wordle"),(0,o.kt)("h2",{id:"construire-et-ex\xe9cuter-la-chaine-wordle"},"Construire et ex\xe9cuter la chaine Wordle"),(0,o.kt)("p",null,"Dans un terminal, ex\xe9cuter la commande suivante :"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-sh"},"ignite chain serve \n")),(0,o.kt)("p",null,"Cela va compiler le code de la blockchain que vous venez d'\xe9crire, cr\xe9er un fichier genesis et quelques comptes \xe0 utiliser. Lorsque le registre affiche quelque chose similaire \xe0 ce qui vient, entrer ceci :"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-sh"},'root@yaz-workshop:~/wordle# ignite chain serve\nCosmos SDK\'s version is: stargate - v0.45.5\n\n\ud83d\udee0\ufe0f  Construire un proto...\n\ud83d\udce6 Installer des d\xe9pendances...\n\ud83d\udee0\ufe0f  Building the blockchain...\n\ud83d\udcbf Initialiser l\'application...\n\ud83d\ude42 Created account "alice" with address "cosmos1skalxj42asjhc7dde3lzzawnksnztqmgy6sned" with mnemonic: "exact arrive betray hawk trim surround exhibit host vibrant sting range robot luxury vague manage settle slide town bread adult pact scene journey elite"\n\ud83d\ude42 Created account "bob" with address "cosmos1xe3l8z634frp0ry6qlmzs5vr85x6gcty7tmf0n" with mnemonic: "wisdom jelly fine boat series time panel real world purchase age area coach eager spot fiber slide apology near endorse flight panel ready torch"\n\ud83c\udf0d Tendermint node: http://0.0.0.0:26657\n\ud83c\udf0d Blockchain API: http://0.0.0.0:1317\n\ud83c\udf0d Token faucet: http://0.0.0.0:4500\n')),(0,o.kt)("p",null,"Ici la commande a cr\xe9\xe9 un binaire appel\xe9 ",(0,o.kt)("inlineCode",{parentName:"p"},"wordled")," et des adresses ",(0,o.kt)("inlineCode",{parentName:"p"},"alice")," et ",(0,o.kt)("inlineCode",{parentName:"p"},"bob")," avec un faucet et un API. Vous \xeates libre de quitter le programme avec la fonction CTRL-C. La raison \xe9tant que nous allons ex\xe9cuter s\xe9par\xe9ment le binaire ",(0,o.kt)("inlineCode",{parentName:"p"},"wordled")," avec les drapeaux Optimint int\xe9gr\xe9s."),(0,o.kt)("p",null,"Vous pouvez commencer la chaine avec des configurations Optimint en ex\xe9cutant la commande suivante :"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-sh"},'wordled start --optimint.aggregator true --optimint.da_layer celestia --optimint.da_config=\'{"base_url":"http://XXX.XXX.XXX.XXX:26658","timeout":60000000000,"gas_limit":6000000}\' --optimint.namespace_id 000000000000FFFF --optimint.da_start_height XXXXX\n')),(0,o.kt)("p",null,"Remarques :"),(0,o.kt)("blockquote",null,(0,o.kt)("p",{parentName:"blockquote"},"NOTE : dans la commande ci-dessus, vous avez besoin de fournir une adresse IP d'un n\u0153ud Celestia dont le compte est approvisionn\xe9 en tokens devnet Arabica \xe0 la ",(0,o.kt)("inlineCode",{parentName:"p"},"base_url"),". Nous vous invitons \xe0 suivre le tutoriel pour configurer un light node Celestia et cr\xe9er un portefeuille avec des tokens faucet de testnet, dans la section N\u0153ud Celestia ",(0,o.kt)("a",{parentName:"p",href:"/fr/developers/node-tutorial"},"ici"),".")),(0,o.kt)("p",null,"Remarques compl\xe9mentaires :"),(0,o.kt)("blockquote",null,(0,o.kt)("p",{parentName:"blockquote"},"IMPORTANT : Il est \xe9galement important dans la commande ci-dessus d'identifier la derni\xe8re position du bloc dans le devnet Arabica par ",(0,o.kt)("inlineCode",{parentName:"p"},"da_height"),". Vous pouvez trouver le num\xe9ro du dernier bloc dans l'explorateur ",(0,o.kt)("a",{parentName:"p",href:"https://explorer.celestia.observer/arabica"},"ici"),". Enfin, pour le drapeau ",(0,o.kt)("inlineCode",{parentName:"p"},"--optimint.namespace_id"),", vous pouvez g\xe9n\xe9rer un identifiant al\xe9atoire d'espace de nom (Namespace) en utilisant l'environnement de test ",(0,o.kt)("a",{parentName:"p",href:"https://go.dev/play/p/7ltvaj8lhRl"},"ici"))),(0,o.kt)("p",null,"Dans une autre fen\xeatre, ex\xe9cutez la commande suivante pour soumettre un Wordle :"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-sh"},"wordled tx wordle submit-wordle giant --from alice --keyring-backend test --chain-id wordle -b async -y\n")),(0,o.kt)("blockquote",null,(0,o.kt)("p",{parentName:"blockquote"},"NOTE : Nous soumettons une transaction asynchrone car nous souhaitons \xe9viter les erreurs de timeout. Optimint rempla\xe7ant Tendermint, nous avons besoin d'attendre le r\xe9seau de disponibilit\xe9 des donn\xe9es de Celestia pour nous assurer qu'un bloc a \xe9t\xe9 inclus dans Wordle, avant de passer au bloc suivant. Actuellement dans Optimint, l'agr\xe9gateur unique n'avance pas avec le bloc suivant en production tant qu'il tente de soumettre le bloc ant\xe9rieur au r\xe9seau de disponibilit\xe9 des donn\xe9es. Dans le futur, avec la leader election, la production du bloc et la logique de synchronisation vont s'am\xe9liorer consid\xe9rablement.")),(0,o.kt)("p",null,"Cela vous demandera de confirmer la transaction avec le message suivant :"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "body":{\n    "messages":[\n       {\n          "@type":"/YazzyYaz.wordle.wordle.MsgSubmitWordle",\n          "creator":"cosmos17lk3fgutf00pd5s8zwz5fmefjsdv4wvzyg7d74",\n          "word":"giant"\n       }\n    ],\n    "memo":"",\n    "timeout_height":"0",\n    "extension_options":[\n    ],\n    "non_critical_extension_options":[\n    ]\n  },\n  "auth_info":{\n    "signer_infos":[\n    ],\n    "fee":{\n       "amount":[\n       ],\n       "gas_limit":"200000",\n       "payer":"",\n       "granter":""\n    }\n  },\n  "signatures":[\n  ]\n}\n')),(0,o.kt)("p",null,"Le Cosmos-SDK vous demandera alors de confirmer la transaction ici :"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-sh"},"confirm transaction before signing and broadcasting [y/N]:\n")),(0,o.kt)("p",null,"Confirmez en tapant un Y."),(0,o.kt)("p",null,"Vous aurez alors une r\xe9ponse avec un hash de transaction comme indiqu\xe9 ci-dessous :"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-sh"},'code: 19\ncodespace: sdk\ndata: ""\nevents: []\ngas_used: "0"\ngas_wanted: "0"\nheight: "0"\ninfo: ""\nlogs: []\nraw_log: ""\ntimestamp: ""\ntx: null\ntxhash: F70C04CE5E1EEC5B7C0E5050B3BEDA39F74C33D73ED504E42A9E317E7D7FE128\n')),(0,o.kt)("p",null,"Notez que cela ne signifie pas que la transaction \xe9tait d\xe9j\xe0 inclue dans le bloc. Demandons le hash de la transaction pour v\xe9rifier s'il a \xe9t\xe9 inclus dans le bloc ou s'il y a des erreurs."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-sh"},"wordled query tx --type=hash F70C04CE5E1EEC5B7C0E5050B3BEDA39F74C33D73ED504E42A9E317E7D7FE128 --chain-id wordle --output json | jq -r '.raw_log'\n")),(0,o.kt)("p",null,"Cela devrait afficher le r\xe9sultat suivant :"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-json"},'[{"events":[{"type":"message","attributes":[{"key":"action","value":"submit_wordle"\n}]}]}]\n')),(0,o.kt)("p",null,"Essayons quelques petites choses pour nous amuser :"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-sh"},"wordled tx wordle submit-guess 12345 --from alice --keyring-backend test --chain-id wordle -b async -y\n")),(0,o.kt)("p",null,"Apr\xe8s avoir confirm\xe9 la transaction, interrogez le ",(0,o.kt)("inlineCode",{parentName:"p"},"txhash"),' de la m\xeame mani\xe8re que vous l\'avez fait ci-dessus. Vous verrez que la r\xe9ponse sera "Erreur Invalide" car vous avez soumis des entiers.'),(0,o.kt)("p",null,"Maintenant essayez la commande suivante :"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-sh"},"wordled tx wordle submit-guess ABCDEFG --from alice --keyring-backend test --chain-id wordle -b async -y\n")),(0,o.kt)("p",null,"Apr\xe8s avoir confirm\xe9 la transaction, interrogez le ",(0,o.kt)("inlineCode",{parentName:"p"},"txhash"),' de la m\xeame mani\xe8re que vous l\'avez fait ci-dessus. Vous verrez que la r\xe9ponse sera une "Erreur Invalide" \xe0 nouveau car vous avez soumis un mot de plus de 5 caract\xe8res.'),(0,o.kt)("p",null,"Maintenant essayez de soumettre un autre mot m\xeame si l'un d'eux a d\xe9j\xe0 \xe9t\xe9 soumis"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-sh"},"wordled tx wordle submit-wordle meter --from bob --keyring-backend test --chain-id wordle -b async -y\n")),(0,o.kt)("p",null,"Apr\xe8s avoir confirm\xe9 la transaction, interrogez le ",(0,o.kt)("inlineCode",{parentName:"p"},"txhash")," de la m\xeame mani\xe8re que vous l'avez fait ci-dessus. Vous allez avoir une erreur vous disant qu'un wordle a d\xe9j\xe0 \xe9t\xe9 soumis pour aujourd'hui."),(0,o.kt)("p",null,"Maintenant essayons de deviner un mot \xe0 cinq lettres :"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-sh"},"wordled tx wordle submit-guess least --from bob --keyring-backend test --chain-id wordle -b async -y\n")),(0,o.kt)("p",null,"Apr\xe8s avoir soumis les transactions et les avoir confirm\xe9es, interroger le ",(0,o.kt)("inlineCode",{parentName:"p"},"txhash")," de la m\xeame mani\xe8re que vous l'avez fait ci-dessus. Etant donn\xe9 que vous n'avez pas devin\xe9 le bon mot, cela augmentera le nombre de guess du compte Bob."),(0,o.kt)("p",null,"Nous pouvons v\xe9rifier cela en interrogeant la liste :"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-sh"},"wordled q wordle list-guess --output json\n")),(0,o.kt)("p",null,"Cela fournit tous les guess soumis jusqu'\xe0 pr\xe9sent, l'index \xe9tant la date d'aujourd'hui et l'adresse de l'\xe9metteur."),(0,o.kt)("p",null,"Gr\xe2ce \xe0 cela, nous avons impl\xe9ment\xe9 un exemple basique de Wordle en utilisant le Cosmos-SDK, Ignite et Optimint. La prochaine partie sera sur la fa\xe7on d'\xe9tendre la code base."),(0,o.kt)("h2",{id:"\xe9tendre-dans-le-futur"},"\xc9tendre dans le futur"),(0,o.kt)("p",null,"Vous pouvez \xe9tendre la code base et am\xe9liorer ce tutoriel en consultant le dossier github ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/celestiaorg/wordle"},"ici"),"."),(0,o.kt)("p",null,"Il y a de multiples fa\xe7ons d'\xe9tendre cette code base :"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"Vous pouvez am\xe9liorer le message lorsque vous devinez le mot correct."),(0,o.kt)("li",{parentName:"ol"},"Vous pouvez hash le mot avant de le soumettre \xe0 la chaine en vous assurant que le hashing est local et qu'il ne soit pas r\xe9v\xe9l\xe9 en front-run par d'autres qui surveillent la chaine pendant qu'il est soumis \xe0 celle-ci."),(0,o.kt)("li",{parentName:"ol"},"Vous pouvez am\xe9liorer l'interface utilisateur dans le terminal en utilisant une interface plus jolie pour Wordle. Quelques exemples sont propos\xe9s ",(0,o.kt)("a",{parentName:"li",href:"https://github.com/nimblebun/wordle-cli"},"ici"),"."),(0,o.kt)("li",{parentName:"ol"},"Vous pouvez am\xe9liorer la date actuelle pour qu'elle soit adapt\xe9e \xe0 un fuseau horaire sp\xe9cifique."),(0,o.kt)("li",{parentName:"ol"},"Vous pouvez cr\xe9er un bot qui soumet un mot chaque jour \xe0 une heure sp\xe9cifique."),(0,o.kt)("li",{parentName:"ol"},"Vous pouvez cr\xe9er une vue.js en front-end avec Ignite en utilisant les ressources en acc\xe8s libre ",(0,o.kt)("a",{parentName:"li",href:"https://github.com/yyx990803/vue-wordle"},"ici")," and ",(0,o.kt)("a",{parentName:"li",href:"https://github.com/xudafeng/wordle"},"ici"),".")))}m.isMDXComponent=!0}}]);