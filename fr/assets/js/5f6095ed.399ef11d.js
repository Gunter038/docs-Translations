"use strict";(self.webpackChunkcelestia_docs=self.webpackChunkcelestia_docs||[]).push([[6768],{3905:function(e,n,t){t.d(n,{Zo:function(){return p},kt:function(){return f}});var r=t(7294);function a(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function i(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function l(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?i(Object(t),!0).forEach((function(n){a(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):i(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function s(e,n){if(null==e)return{};var t,r,a=function(e,n){if(null==e)return{};var t,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||(a[t]=e[t]);return a}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}var o=r.createContext({}),u=function(e){var n=r.useContext(o),t=n;return e&&(t="function"==typeof e?e(n):l(l({},n),e)),t},p=function(e){var n=u(e.components);return r.createElement(o.Provider,{value:n},e.children)},c={inlineCode:"code",wrapper:function(e){var n=e.children;return r.createElement(r.Fragment,{},n)}},d=r.forwardRef((function(e,n){var t=e.components,a=e.mdxType,i=e.originalType,o=e.parentName,p=s(e,["components","mdxType","originalType","parentName"]),d=u(t),f=a,m=d["".concat(o,".").concat(f)]||d[f]||c[f]||i;return t?r.createElement(m,l(l({ref:n},p),{},{components:t})):r.createElement(m,l({ref:n},p))}));function f(e,n){var t=arguments,a=n&&n.mdxType;if("string"==typeof e||a){var i=t.length,l=new Array(i);l[0]=d;var s={};for(var o in n)hasOwnProperty.call(n,o)&&(s[o]=n[o]);s.originalType=e,s.mdxType="string"==typeof e?e:a,l[1]=s;for(var u=2;u<i;u++)l[u]=t[u];return r.createElement.apply(null,l)}return r.createElement.apply(null,t)}d.displayName="MDXCreateElement"},2242:function(e,n,t){t.r(n),t.d(n,{assets:function(){return p},contentTitle:function(){return o},default:function(){return f},frontMatter:function(){return s},metadata:function(){return u},toc:function(){return c}});var r=t(7462),a=t(3366),i=(t(7294),t(3905)),l=["components"],s={},o=void 0,u={unversionedId:"nodes/consensus-full-node",id:"nodes/consensus-full-node",title:"consensus-full-node",description:"- - -",source:"@site/i18n/fr/docusaurus-plugin-content-docs/current/nodes/consensus-full-node.md",sourceDirName:"nodes",slug:"/nodes/consensus-full-node",permalink:"/fr/nodes/consensus-full-node",draft:!1,editUrl:"https://github.com/celestiaorg/docs/tree/main/docs/nodes/consensus-full-node.md",tags:[],version:"current",frontMatter:{},sidebar:"nodes",previous:{title:"validator-node",permalink:"/fr/nodes/validator-node"},next:{title:"Data Availability",permalink:"/fr/category/data-availability"}},p={},c=[{value:"Hardware Requis",id:"hardware-requis",level:2},{value:"Configurer votre full node de consensus",id:"configurer-votre-full-node-de-consensus",level:2},{value:"Configurer les d\xe9pendances",id:"configurer-les-d\xe9pendances",level:3},{value:"D\xe9ployer la Celestia-App",id:"d\xe9ployer-la-celestia-app",level:2},{value:"Installer la Celestia App",id:"installer-la-celestia-app",level:3},{value:"Configurer les r\xe9seaux pair-\xe0-pair",id:"configurer-les-r\xe9seaux-pair-\xe0-pair",level:3},{value:"Configurer pruning",id:"configurer-pruning",level:3},{value:"R\xe9initialiser le r\xe9seau",id:"r\xe9initialiser-le-r\xe9seau",level:3},{value:"Optionnel : synchronisation rapide avec snapshot",id:"optionnel--synchronisation-rapide-avec-snapshot",level:3},{value:"Lancer la Celestia App",id:"lancer-la-celestia-app",level:3},{value:"Optionnel: configuration du point de terminaison RPC",id:"optionnel-configuration-du-point-de-terminaison-rpc",level:3},{value:"D\xe9marrer la Celestia-App avec SystemD",id:"d\xe9marrer-la-celestia-app-avec-systemd",level:3}],d={toc:c};function f(e){var n=e.components,t=(0,a.Z)(e,l);return(0,i.kt)("wrapper",(0,r.Z)({},d,t,{components:n,mdxType:"MDXLayout"}),(0,i.kt)("hr",null),(0,i.kt)("p",null,"Full node de Consensus"),(0,i.kt)("hr",null),(0,i.kt)("h1",{id:"configurer-un-full-node-de-consensus-de-celestia"},"Configurer un Full Node de Consensus de Celestia"),(0,i.kt)("p",null,"Les Full Nodes vous permettent de synchroniser l'historique de la blockchain dans la couche de consensus de Celestia."),(0,i.kt)("h2",{id:"hardware-requis"},"Hardware Requis"),(0,i.kt)("p",null,"La configuration mat\xe9rielle minimale requise pour ex\xe9cuter le full node de consensus est la suivante :"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"M\xe9moire vive : 8Go de RAM"),(0,i.kt)("li",{parentName:"ul"},"Processeur\xa0: 4 c\u0153urs"),(0,i.kt)("li",{parentName:"ul"},"Disque dur : 250 Go de stockage SSD"),(0,i.kt)("li",{parentName:"ul"},"Bande passante : 1 Go/s en download / 100 Mo/s en upload")),(0,i.kt)("h2",{id:"configurer-votre-full-node-de-consensus"},"Configurer votre full node de consensus"),(0,i.kt)("p",null,"Le tutoriel ci-apr\xe8s a \xe9t\xe9 r\xe9alis\xe9 sur un syst\xe8me d'exploitation Ubuntu Linux 20.04 (LTS) x64."),(0,i.kt)("h3",{id:"configurer-les-d\xe9pendances"},"Configurer les d\xe9pendances"),(0,i.kt)("p",null,"Suivre les instructions pour installer les d\xe9pendances ",(0,i.kt)("a",{parentName:"p",href:"/fr/developers/environment"},"ici"),"."),(0,i.kt)("h2",{id:"d\xe9ployer-la-celestia-app"},"D\xe9ployer la Celestia-App"),(0,i.kt)("p",null,"Cette section d\xe9crit la partie 1 de la configuration d'un full node de consensus Celestia : ex\xe9cuter une Celestia App daemon avec un n\u0153ud interne \xe0 Celestia Core."),(0,i.kt)("blockquote",null,(0,i.kt)("p",{parentName:"blockquote"},"Note : v\xe9rifier que vous avez au moins 100+ Go d'espace libre pour installer et ex\xe9cuter en tout s\xe9curit\xe9 le full node de validateur.")),(0,i.kt)("h3",{id:"installer-la-celestia-app"},"Installer la Celestia App"),(0,i.kt)("p",null,"Suivre le tutoriel pour installer la Celestia App ",(0,i.kt)("a",{parentName:"p",href:"/fr/developers/celestia-app"},"ici"),"."),(0,i.kt)("h3",{id:"configurer-les-r\xe9seaux-pair-\xe0-pair"},"Configurer les r\xe9seaux pair-\xe0-pair"),(0,i.kt)("p",null,"Pour cette section du guide, s\xe9lectionner le r\xe9seau que vous voulez connecter \xe0 :"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"/fr/nodes/mamaki-testnet#setup-p2p-network"},"Mamaki"))),(0,i.kt)("p",null,"Apr\xe8s cela, vous pouvez continuer le tutoriel."),(0,i.kt)("h3",{id:"configurer-pruning"},"Configurer pruning"),(0,i.kt)("p",null,"Pour des disques durs aux espaces de stockage plus r\xe9duits nous recommandons de configurer pruning en utilisant les param\xe8tres ci dessous. Vous pouvez utiliser vos propres param\xe8tres de pruning si vous voulez :"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-sh"},'PRUNING="custom"\nPRUNING_KEEP_RECENT="100"\nPRUNING_INTERVAL="10"\n\nsed -i -e "s/^pruning *=.*/pruning = \\"$PRUNING\\"/" $HOME/.celestia-app/config/app.toml\nsed -i -e "s/^pruning-keep-recent *=.*/pruning-keep-recent = \\\n\\"$PRUNING_KEEP_RECENT\\"/" $HOME/.celestia-app/config/app.toml\nsed -i -e "s/^pruning-interval *=.*/pruning-interval = \\\n\\"$PRUNING_INTERVAL\\"/" $HOME/.celestia-app/config/app.toml\n')),(0,i.kt)("h3",{id:"r\xe9initialiser-le-r\xe9seau"},"R\xe9initialiser le r\xe9seau"),(0,i.kt)("p",null,"Cela va supprimer tous les dossiers de donn\xe9es pour pouvoir recommencer \xe0 z\xe9ro :"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-sh"},"celestia-appd tendermint unsafe-reset-all --home $HOME/.celestia-app\n")),(0,i.kt)("h3",{id:"optionnel--synchronisation-rapide-avec-snapshot"},"Optionnel : synchronisation rapide avec snapshot"),(0,i.kt)("p",null,"Synchroniser \xe0 partir de Genesis peut prendre beaucoup de temps, selon votre mat\xe9riel. En utilisant cette m\xe9thode vous synchronisez tr\xe8s rapidement votre n\u0153ud Celestia en t\xe9l\xe9chargeant un snapshot r\xe9cent de la blockchain. Si vous souhaitez synchroniser \xe0 partir de Genesis vous pouvez ignorer cette partie."),(0,i.kt)("p",null,"Si vous souhaitez utiliser le snapshot, d\xe9terminez \xe0 quel r\xe9seau vous souhaitez vous synchroniser \xe0 partir de la liste ci-dessous :"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"/fr/nodes/mamaki-testnet#quick-sync-with-snapshot"},"Mamaki"))),(0,i.kt)("h3",{id:"lancer-la-celestia-app"},"Lancer la Celestia App"),(0,i.kt)("p",null,"Afin de d\xe9marrer votre noeud validateur, ex\xe9cutez la commande ci-dessous :"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-sh"},"celestia-appd start\n")),(0,i.kt)("p",null,"Cela vous permettra de synchroniser l'historique de la blockchain Celestia."),(0,i.kt)("h3",{id:"optionnel-configuration-du-point-de-terminaison-rpc"},"Optionnel: configuration du point de terminaison RPC"),(0,i.kt)("p",null,"Vous pouvez configurer votre n\u0153ud validateur pour qu'il soit un terminal RPC public et \xe9couter toutes les connexions des N\u0153uds de Disponibilit\xe9 de Donn\xe9es afin de servir les demandes de l'API de Disponibilit\xe9 de Donn\xe9es ",(0,i.kt)("a",{parentName:"p",href:"/fr/developers/node-tutorial"},"ici"),"."),(0,i.kt)("p",null,"Notez que vous devez vous assurer que le port 9090 est ouvert pour cela."),(0,i.kt)("p",null,"Ex\xe9cutez les commandes suivantes :"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-sh"},'EXTERNAL_ADDRESS=$(wget -qO- eth0.me)\nsed -i.bak -e "s/^external-address = \\"\\"/external-address = \\"$EXTERNAL_ADDRESS:26656\\"/" $HOME/.celestia-app/config/config.toml\nsed -i \'s#"tcp://127.0.0.1:26657"#"tcp://0.0.0:26657"#g\' ~/.celestia-app/config/config/config.toml\n')),(0,i.kt)("p",null,"Red\xe9marrez ",(0,i.kt)("inlineCode",{parentName:"p"},"celestia-appd")," \xe0 l'\xe9tape pr\xe9c\xe9dente pour charger ces configurations."),(0,i.kt)("h3",{id:"d\xe9marrer-la-celestia-app-avec-systemd"},"D\xe9marrer la Celestia-App avec SystemD"),(0,i.kt)("p",null,"Il est possible de suivre le tutoriel pour configurer la Celestia App en tant que processus de fond avec SystemD, ",(0,i.kt)("a",{parentName:"p",href:"/fr/nodes/systemd#start-the-celestia-app-with-systemd"},"ici"),"."))}f.isMDXComponent=!0}}]);