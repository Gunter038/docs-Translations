"use strict";(self.webpackChunkcelestia_docs=self.webpackChunkcelestia_docs||[]).push([[5605],{3905:function(e,t,r){r.d(t,{Zo:function(){return d},kt:function(){return v}});var a=r(7294);function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},i=Object.keys(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var u=a.createContext({}),o=function(e){var t=a.useContext(u),r=t;return e&&(r="function"==typeof e?e(t):l(l({},t),e)),r},d=function(e){var t=o(e.components);return a.createElement(u.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},c=a.forwardRef((function(e,t){var r=e.components,n=e.mdxType,i=e.originalType,u=e.parentName,d=s(e,["components","mdxType","originalType","parentName"]),c=o(r),v=n,m=c["".concat(u,".").concat(v)]||c[v]||p[v]||i;return r?a.createElement(m,l(l({ref:t},d),{},{components:r})):a.createElement(m,l({ref:t},d))}));function v(e,t){var r=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var i=r.length,l=new Array(i);l[0]=c;var s={};for(var u in t)hasOwnProperty.call(t,u)&&(s[u]=t[u]);s.originalType=e,s.mdxType="string"==typeof e?e:n,l[1]=s;for(var o=2;o<i;o++)l[o]=r[o];return a.createElement.apply(null,l)}return a.createElement.apply(null,r)}c.displayName="MDXCreateElement"},5373:function(e,t,r){r.r(t),r.d(t,{assets:function(){return d},contentTitle:function(){return u},default:function(){return v},frontMatter:function(){return s},metadata:function(){return o},toc:function(){return p}});var a=r(7462),n=r(3366),i=(r(7294),r(3905)),l=["components"],s={},u=void 0,o={unversionedId:"nodes/validator-node",id:"nodes/validator-node",title:"validator-node",description:"- - -",source:"@site/i18n/fr/docusaurus-plugin-content-docs/current/nodes/validator-node.md",sourceDirName:"nodes",slug:"/nodes/validator-node",permalink:"/fr/nodes/validator-node",draft:!1,editUrl:"https://github.com/celestiaorg/docs/tree/main/docs/nodes/validator-node.md",tags:[],version:"current",frontMatter:{},sidebar:"nodes",previous:{title:"Consensus",permalink:"/fr/category/consensus"},next:{title:"consensus-full-node",permalink:"/fr/nodes/consensus-full-node"}},d={},p=[{value:"Hardware Requis",id:"hardware-requis",level:2},{value:"Configuration de votre Node validateur",id:"configuration-de-votre-node-validateur",level:2},{value:"Configurer les d\xe9pendances",id:"configurer-les-d\xe9pendances",level:3},{value:"D\xe9ployer Celestia-App",id:"d\xe9ployer-celestia-app",level:2},{value:"Installer Celestia App",id:"installer-celestia-app",level:3},{value:"Configurer les r\xe9seaux pair-\xe0-pair",id:"configurer-les-r\xe9seaux-pair-\xe0-pair",level:3},{value:"Configurer pruning",id:"configurer-pruning",level:3},{value:"Configurer le Node Validateur",id:"configurer-le-node-validateur",level:3},{value:"R\xe9initialiser le r\xe9seau",id:"r\xe9initialiser-le-r\xe9seau",level:3},{value:"Optionnel : synchronisation rapide avec snapshot",id:"optionnel--synchronisation-rapide-avec-snapshot",level:3},{value:"D\xe9marrer Celestia-App avec SystemD",id:"d\xe9marrer-celestia-app-avec-systemd",level:3},{value:"Wallet",id:"wallet",level:3},{value:"D\xe9l\xe9guer de la Stake (mise) \xe0 un validateur",id:"d\xe9l\xe9guer-de-la-stake-mise-\xe0-un-validateur",level:3},{value:"Deployer le Celestia Node",id:"deployer-le-celestia-node",level:2},{value:"Installer Celestia Node",id:"installer-celestia-node",level:3},{value:"Initialiser le Bridge node",id:"initialiser-le-bridge-node",level:3},{value:"Ex\xe9cuter le Bridge node",id:"ex\xe9cuter-le-bridge-node",level:3},{value:"Facultatif : D\xe9marrez le Bridge Node avec SystemD",id:"facultatif--d\xe9marrez-le-bridge-node-avec-systemd",level:3},{value:"Ex\xe9cuter un Node Validateur",id:"ex\xe9cuter-un-node-validateur",level:2}],c={toc:p};function v(e){var t=e.components,r=(0,n.Z)(e,l);return(0,i.kt)("wrapper",(0,a.Z)({},c,r,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("hr",null),(0,i.kt)("p",null,"sidebar_label : Node Validateur"),(0,i.kt)("hr",null),(0,i.kt)("h1",{id:"configurer-un-node-validateur"},"Configurer un Node validateur"),(0,i.kt)("p",null,"Les nodes Validateurs vous permettent de participer au consensus sur le r\xe9seau de Celestia."),(0,i.kt)("h2",{id:"hardware-requis"},"Hardware Requis"),(0,i.kt)("p",null,"Les exigences mat\xe9rielles minimales suivantes sont recommand\xe9es pour ex\xe9cuter le node validateur : :"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"M\xe9moire : 8 Go de RAM"),(0,i.kt)("li",{parentName:"ul"},"CPU : Quad-Core"),(0,i.kt)("li",{parentName:"ul"},"Disque : 250 Go de stockage SSD"),(0,i.kt)("li",{parentName:"ul"},"Bande passante : 1 Gbps pour le t\xe9l\xe9chargement/100 Mbps pour l'upload")),(0,i.kt)("h2",{id:"configuration-de-votre-node-validateur"},"Configuration de votre Node validateur"),(0,i.kt)("p",null,"Le tutoriel suivant est fait sur une machine d'instance Ubuntu Linux 20.04 (LTS) x64."),(0,i.kt)("h3",{id:"configurer-les-d\xe9pendances"},"Configurer les d\xe9pendances"),(0,i.kt)("p",null,"Suivez le tutoriel ici pour installer les d\xe9pendances ",(0,i.kt)("a",{parentName:"p",href:"/fr/developers/environment"},"ici"),"."),(0,i.kt)("h2",{id:"d\xe9ployer-celestia-app"},"D\xe9ployer Celestia-App"),(0,i.kt)("p",null,"Cette section d\xe9crit la premi\xe8re partie de l'installation d'un Validator Node Celestia: ex\xe9cutant un daemon Celestia App avec un node Celestia Core interne."),(0,i.kt)("blockquote",null,(0,i.kt)("p",{parentName:"blockquote"},"Remarque : Assurez-vous de disposer d'au moins 100 Go d'espace de libre pour installer et ex\xe9cuter en toute s\xe9curit\xe9 le Validator node .")),(0,i.kt)("h3",{id:"installer-celestia-app"},"Installer Celestia App"),(0,i.kt)("p",null,"Suivez le tutoriel d'installation de Celestia App ",(0,i.kt)("a",{parentName:"p",href:"/fr/developers/celestia-app"},"ici"),"."),(0,i.kt)("h3",{id:"configurer-les-r\xe9seaux-pair-\xe0-pair"},"Configurer les r\xe9seaux pair-\xe0-pair"),(0,i.kt)("p",null,"Pour cette section du guide, s\xe9lectionnez le r\xe9seau auquel vous souhaitez vous connecter :"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"/fr/nodes/mamaki-testnet#setup-p2p-network"},"Mamaki"))),(0,i.kt)("p",null,"Apr\xe8s cela, vous pouvez continuer avec le reste du tutoriel."),(0,i.kt)("h3",{id:"configurer-pruning"},"Configurer pruning"),(0,i.kt)("p",null,"Pour une utilisation r\xe9duite de l'espace disque, nous vous recommandons de configurer le pruning \xe0 l'aide de la configurations ci-dessous. Vous pouvez changer cela pour vos propres configurations de pruning, si vous le d\xe9sirez:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-sh"},'PRUNING="custom"\nPRUNING_KEEP_RECENT="100"\nPRUNING_INTERVAL="10"\n\nsed -i -e "s/^pruning *=.*/pruning = \\"$PRUNING\\"/" $HOME/.celestia-app/config/app.toml\nsed -i -e "s/^pruning-keep-recent *=.*/pruning-keep-recent = \\\n\\"$PRUNING_KEEP_RECENT\\"/" $HOME/.celestia-app/config/app.toml\nsed -i -e "s/^pruning-interval *=.*/pruning-interval = \\\n\\"$PRUNING_INTERVAL\\"/" $HOME/.celestia-app/config/app.toml\n')),(0,i.kt)("h3",{id:"configurer-le-node-validateur"},"Configurer le Node Validateur"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-sh"},'sed -i.bak -e "s/^mode *=.*/mode = \\"validator\\"/" $HOME/.celestia-app/config/config.toml\n')),(0,i.kt)("h3",{id:"r\xe9initialiser-le-r\xe9seau"},"R\xe9initialiser le r\xe9seau"),(0,i.kt)("p",null,"Cela supprimera tous les dossiers de donn\xe9es afin de pouvoir recommencer \xe0 z\xe9ro :"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-sh"},"celestia-appd tendermint unsafe-reset-all --home $HOME/.celestia-app\n")),(0,i.kt)("h3",{id:"optionnel--synchronisation-rapide-avec-snapshot"},"Optionnel : synchronisation rapide avec snapshot"),(0,i.kt)("p",null,"La synchronisation depuis le Genesis peut prendre beaucoup de temps, selon votre mat\xe9riel. Utiliser cette m\xe9thode vous permet de synchroniser votre node Celestia tr\xe8s rapidement en t\xe9l\xe9chargeant un Snapshot r\xe9cent de la blockchain. Si vous souhaitez synchroniser depuis le Genesis, alors vous pouvez ignorer cette partie."),(0,i.kt)("p",null,"Si vous souhaitez utiliser un Snapshot, d\xe9terminez le r\xe9seau auquel vous souhaitez vous synchroniser \xe0 partir de la liste ci-dessous :"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"/fr/nodes/mamaki-testnet#quick-sync-with-snapshot"},"Mamaki"))),(0,i.kt)("h3",{id:"d\xe9marrer-celestia-app-avec-systemd"},"D\xe9marrer Celestia-App avec SystemD"),(0,i.kt)("p",null,"Suivre le tutoriel pour configurer la Celestia App en tant que processus de fond avec SystemD ",(0,i.kt)("a",{parentName:"p",href:"/fr/nodes/systemd#start-the-celestia-app-with-systemd"},"ici"),"."),(0,i.kt)("h3",{id:"wallet"},"Wallet"),(0,i.kt)("p",null,"Suivez le tutoriel sur la cr\xe9ation d'un wallet ",(0,i.kt)("a",{parentName:"p",href:"/fr/developers/wallet"},"ici"),"."),(0,i.kt)("h3",{id:"d\xe9l\xe9guer-de-la-stake-mise-\xe0-un-validateur"},"D\xe9l\xe9guer de la Stake (mise) \xe0 un validateur"),(0,i.kt)("p",null,"Cr\xe9er une variable d'environnement pour l'adresse:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-sh"},"VALIDATOR_WALLET=<validator-address>\n")),(0,i.kt)("p",null,"Si vous souhaitez d\xe9l\xe9guer plus de stake \xe0 n'importe quel validateur, y compris le v\xf4tre, vous aurez besoin de l'adresse ",(0,i.kt)("inlineCode",{parentName:"p"},"celesvaloper")," du validateur en question. Vous pouvez soit la v\xe9rifier en utilisant l'explorateur de blocs mentionn\xe9 ci-dessus ou vous pouvez ex\xe9cuter la commande ci-dessous pour obtenir le ",(0,i.kt)("inlineCode",{parentName:"p"},"celesvaloper")," de votre wallet de validateur local dans le cas o\xf9 vous souhaitez lui d\xe9l\xe9guer davantage :"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-sh"},"celestia-appd keys show $VALIDATOR_WALLET --bech val -a\n")),(0,i.kt)("p",null,"Apr\xe8s avoir entr\xe9 la passphrase du portefeuille, vous devriez voir une sortie similaire :"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-sh"},"Enter keyring passphrase:\ncelesvaloper1q3v5cugc8cdpud87u4zwy0a74uxkk6u43cv6hd\n")),(0,i.kt)("p",null,"Ensuite, s\xe9lectionnez le r\xe9seau que vous souhaitez utiliser pour d\xe9l\xe9guer \xe0 un validateur :"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"/fr/nodes/mamaki-testnet#delegate-to-a-validator"},"Mamaki"))),(0,i.kt)("h2",{id:"deployer-le-celestia-node"},"Deployer le Celestia Node"),(0,i.kt)("p",null,"Cette section d\xe9crit la partie 2 de l'installation d'un node validateur Celestia : ex\xe9cuter le daemon Celestia Bridge Node."),(0,i.kt)("h3",{id:"installer-celestia-node"},"Installer Celestia Node"),(0,i.kt)("p",null,"Vous pouvez suivre le tutoriel d'installation de Celestia Node ",(0,i.kt)("a",{parentName:"p",href:"/fr/developers/celestia-node"},"ici")),(0,i.kt)("h3",{id:"initialiser-le-bridge-node"},"Initialiser le Bridge node"),(0,i.kt)("p",null,"Ex\xe9cutez ce qui suit :"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-sh"},"celestia bridge init --core.ip <ip-address> --core.grpc.port <port>\n")),(0,i.kt)("blockquote",null,(0,i.kt)("p",{parentName:"blockquote"},"NOTE : Le port ",(0,i.kt)("inlineCode",{parentName:"p"},"--core.grpc.port")," est configur\xe9 par d\xe9faut \xe0 9090, donc si vous n'en sp\xe9cifiez pas un autre dans la ligne de commande, il s'ex\xe9cutera sur celui-l\xe0 par d\xe9faut. Vous pouvez utiliser le drapeau (flag) pour sp\xe9cifier un autre port si vous pr\xe9f\xe9rez.")),(0,i.kt)("p",null,"Si vous avez besoin d'une liste de terminaux RPC pour vous connecter, vous pouvez v\xe9rifier dans la liste ",(0,i.kt)("a",{parentName:"p",href:"/fr/nodes/mamaki-testnet#rpc-endpoints"},"ici")),(0,i.kt)("h3",{id:"ex\xe9cuter-le-bridge-node"},"Ex\xe9cuter le Bridge node"),(0,i.kt)("p",null,"Ex\xe9cutez ce qui suit :"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-sh"},"celestia bridge start\n")),(0,i.kt)("h3",{id:"facultatif--d\xe9marrez-le-bridge-node-avec-systemd"},"Facultatif : D\xe9marrez le Bridge Node avec SystemD"),(0,i.kt)("p",null,"Suivez le tutoriel sur la configuration du Bridge node en tant que processus de fond avec SystemD ",(0,i.kt)("a",{parentName:"p",href:"/fr/nodes/systemd#celestia-bridge-node"},"ici"),"."),(0,i.kt)("p",null,"Vous avez configur\xe9 avec succ\xe8s un Bridge node qui se synchronise avec le r\xe9seau."),(0,i.kt)("h2",{id:"ex\xe9cuter-un-node-validateur"},"Ex\xe9cuter un Node Validateur"),(0,i.kt)("p",null,"Apr\xe8s avoir termin\xe9 toutes les \xe9tapes n\xe9cessaires, vous \xeates maintenant pr\xeat \xe0 ex\xe9cuter un validateur ! Afin de cr\xe9er votre validateur sur la cha\xeene, suivez les instructions ci-dessous. Gardez \xe0 l'esprit que ces \xe9tapes sont n\xe9cessaires UNIQUEMENT si vous souhaitez participer au consensus."),(0,i.kt)("p",null,"Choisissez un nom de ",(0,i.kt)("inlineCode",{parentName:"p"},"moniker")," de votre choix! C'est le nom du validateur qui s'affichera sur les tableaux de bord publics et les explorateurs. ",(0,i.kt)("inlineCode",{parentName:"p"},"VALIDATOR_WALLET")," doit \xeatre le m\xeame que celui d\xe9fini pr\xe9c\xe9demment. Le param\xe8tre ",(0,i.kt)("inlineCode",{parentName:"p"},"--min-self-delegation=1000000")," d\xe9finit la quantit\xe9 de tokens qui sont auto-d\xe9l\xe9gu\xe9s depuis votre wallet de validateur."),(0,i.kt)("p",null,"Maintenant, connectez-vous au r\xe9seau de votre choix."),(0,i.kt)("p",null,"Vous avez l'option suivante de vous connecter \xe0 la liste des r\xe9seaux montr\xe9e ci-dessous:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"/fr/nodes/mamaki-testnet#connect-validator"},"Mamaki"))),(0,i.kt)("p",null,"Compl\xe9tez les instructions du r\xe9seau que vous souhaitez valider pour terminer le processus de configuration du validateur."))}v.isMDXComponent=!0}}]);